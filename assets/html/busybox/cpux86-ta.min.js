"use strict";function CPU_X86(){var e,s;for(this.regs=new Array,e=0;e<8;e++)this.regs[e]=0;for(this.eip=0,this.cc_op=0,this.cc_dst=0,this.cc_src=0,this.cc_op2=0,this.cc_dst2=0,this.df=1,this.eflags=2,this.cycle_count=0,this.hard_irq=0,this.hard_intno=-1,this.cpl=0,this.cr0=1,this.cr2=0,this.cr3=0,this.cr4=0,this.idt={base:0,limit:0},this.gdt={base:0,limit:0},this.segs=new Array,e=0;e<7;e++)this.segs[e]={selector:0,base:0,limit:0,flags:0};for(this.segs[2].flags=1<<22,this.segs[1].flags=1<<22,this.tr={selector:0,base:0,limit:0,flags:0},this.ldt={selector:0,base:0,limit:0,flags:0},this.halted=0,this.phys_mem=null,s=1048576,this.tlb_read_kernel=new Int32Array(s),this.tlb_write_kernel=new Int32Array(s),this.tlb_read_user=new Int32Array(s),this.tlb_write_user=new Int32Array(s),e=0;e<s;e++)this.tlb_read_kernel[e]=-1,this.tlb_write_kernel[e]=-1,this.tlb_read_user[e]=-1,this.tlb_write_user[e]=-1;this.tlb_pages=new Int32Array(2048),this.tlb_pages_count=0}function oa(e,s){var a,c;for(c="",a=s-1;a>=0;a--)c+="0123456789ABCDEF"[e>>>4*a&15];return c}function pa(e){return oa(e,8)}function qa(e){return oa(e,2)}function ra(e){return oa(e,4)}function Lg(e){return e/10<<4|e%10}function Mg(e){return new Uint8Array(e)}function Ng(e){var s,a;s=Mg(128),this.cmos_data=s,this.cmos_index=0,a=new Date,s[0]=Lg(a.getUTCSeconds()),s[2]=Lg(a.getUTCMinutes()),s[4]=Lg(a.getUTCHours()),s[6]=Lg(a.getUTCDay()),s[7]=Lg(a.getUTCDate()),s[8]=Lg(a.getUTCMonth()+1),s[9]=Lg(a.getUTCFullYear()%100),s[10]=38,s[11]=2,s[12]=0,s[13]=128,s[20]=2,e.register_ioport_write(112,2,1,this.ioport_write.bind(this)),e.register_ioport_read(112,2,1,this.ioport_read.bind(this))}function Rg(e,s){e.register_ioport_write(s,2,1,this.ioport_write.bind(this)),e.register_ioport_read(s,2,1,this.ioport_read.bind(this)),this.reset()}function Wg(e,s,a,c){this.pics=new Array,this.pics[0]=new Rg(e,s),this.pics[1]=new Rg(e,a),this.pics[0].elcr_mask=248,this.pics[1].elcr_mask=222,this.irq_requested=0,this.cpu_set_irq=c,this.pics[0].update_irq=this.update_irq.bind(this),this.pics[1].update_irq=this.update_irq.bind(this)}function ah(e,s,a){var c,t;for(this.pit_channels=new Array,t=0;t<3;t++)c=new dh(a),this.pit_channels[t]=c,c.mode=3,c.gate=(2!=t)>>0,c.pit_load_count(0);this.speaker_data_on=0,this.set_irq=s,e.register_ioport_write(64,4,1,this.ioport_write.bind(this)),e.register_ioport_read(64,3,1,this.ioport_read.bind(this)),e.register_ioport_read(97,1,1,this.speaker_ioport_read.bind(this)),e.register_ioport_write(97,1,1,this.speaker_ioport_write.bind(this))}function dh(e){this.count=0,this.latched_count=0,this.rw_state=0,this.mode=0,this.bcd=0,this.gate=0,this.count_load_time=0,this.get_ticks=e,this.pit_time_unit=.596591}function kh(e,s,a,c){this.divider=0,this.rbr=0,this.ier=0,this.iir=1,this.lcr=0,this.mcr,this.lsr=96,this.msr=0,this.scr=0,this.fcr=0,this.set_irq_func=a,this.write_func=c,this.tx_fifo="",this.rx_fifo="",e.register_ioport_write(1016,8,1,this.ioport_write.bind(this)),e.register_ioport_read(1016,8,1,this.ioport_read.bind(this))}function ph(e,s){e.register_ioport_read(100,1,1,this.read_status.bind(this)),e.register_ioport_write(100,1,1,this.write_command.bind(this)),this.reset_request=s}function rh(e,s,a,c,t){e.register_ioport_read(s,16,4,this.ioport_readl.bind(this)),e.register_ioport_write(s,16,4,this.ioport_writel.bind(this)),e.register_ioport_read(s+8,1,1,this.ioport_readb.bind(this)),e.register_ioport_write(s+8,1,1,this.ioport_writeb.bind(this)),this.cur_pos=0,this.doc_str="",this.read_func=a,this.write_func=c,this.get_boot_time=t}function uh(e,s){var a,c;this.ide_if=e,this.bs=s,c=s.get_sector_count(),a=c/1008,a>16383?a=16383:a<2&&(a=2),this.cylinders=a,this.heads=16,this.sectors=63,this.nb_sectors=c,this.mult_sectors=128,this.feature=0,this.error=0,this.nsector=0,this.sector=0,this.lcyl=0,this.hcyl=0,this.select=160,this.status=80,this.cmd=0,this.io_buffer=Mg(65540),this.data_index=0,this.data_end=0,this.end_transfer_func=this.transfer_stop.bind(this),this.req_nb_sectors=0,this.io_nb_sectors=0}function Eh(e,s,a,c,t){var r,i;for(this.set_irq_func=c,this.drives=[],r=0;r<2;r++)i=t[r]?new uh(this,t[r]):null,this.drives[r]=i;this.cur_drive=this.drives[0],e.register_ioport_write(s,8,1,this.ioport_write.bind(this)),e.register_ioport_read(s,8,1,this.ioport_read.bind(this)),a&&(e.register_ioport_read(a,1,1,this.status_read.bind(this)),e.register_ioport_write(a,1,1,this.cmd_write.bind(this))),e.register_ioport_write(s,2,2,this.data_writew.bind(this)),e.register_ioport_read(s,2,2,this.data_readw.bind(this)),e.register_ioport_write(s,4,4,this.data_writel.bind(this)),e.register_ioport_read(s,4,4,this.data_readl.bind(this))}function Nh(e,s,a){if(e.indexOf("%d")<0)throw"Invalid URL";if(a<=0||s<=0)throw"Invalid parameters";this.block_sectors=2*s,this.nb_sectors=this.block_sectors*a,this.url=e,this.max_cache_size=Math.max(1,Math.ceil(2536/s)),this.cache=new Array,this.sector_num=0,this.sector_index=0,this.sector_count=0,this.sector_buf=null,this.sector_cb=null}function Yg(e){this.hard_irq=e}function di(){return this.cycle_count}function PCEmulator(e){var s,a,c,t,r;for(s=new CPU_X86,this.cpu=s,s.phys_mem_resize(e.mem_size),this.init_ioports(),this.register_ioport_write(128,1,1,this.ioport80_write),this.pic=new Wg(this,32,160,Yg.bind(s)),this.pit=new ah(this,this.pic.set_irq.bind(this.pic,0),di.bind(s)),this.cmos=new Ng(this),this.serial=new kh(this,1016,this.pic.set_irq.bind(this.pic,4),e.serial_write),this.kbd=new ph(this,this.reset.bind(this)),this.reset_request=0,c=["hda","hdb"],a=new Array,t=0;t<c.length;t++)r=e[c[t]],a[t]=null,r&&(a[t]=new Nh(r.url,r.block_size,r.nb_blocks));this.ide0=new Eh(this,496,1014,this.pic.set_irq.bind(this.pic,14),a),e.clipboard_get&&e.clipboard_set&&(this.jsclipboard=new rh(this,960,e.clipboard_get,e.clipboard_set,e.get_boot_time)),s.ld8_port=this.ld8_port.bind(this),s.ld16_port=this.ld16_port.bind(this),s.ld32_port=this.ld32_port.bind(this),s.st8_port=this.st8_port.bind(this),s.st16_port=this.st16_port.bind(this),s.st32_port=this.st32_port.bind(this),s.get_hard_intno=this.pic.get_hard_intno.bind(this.pic)}var aa=[1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1],ba=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],ca=[0,1,2,3,4,5,6,7,8,0,1,2,3,4,5,6,7,8,0,1,2,3,4,5,6,7,8,0,1,2,3,4];CPU_X86.prototype.phys_mem_resize=function(e){this.mem_size=e,e+=16,this.phys_mem=new ArrayBuffer(e),this.phys_mem8=new Uint8Array(this.phys_mem,0,e),this.phys_mem16=new Uint16Array(this.phys_mem,0,e/2),this.phys_mem32=new Int32Array(this.phys_mem,0,e/4)},CPU_X86.prototype.ld8_phys=function(e){return this.phys_mem8[e]},CPU_X86.prototype.st8_phys=function(e,s){this.phys_mem8[e]=s},CPU_X86.prototype.ld32_phys=function(e){return this.phys_mem32[e>>2]},CPU_X86.prototype.st32_phys=function(e,s){this.phys_mem32[e>>2]=s},CPU_X86.prototype.tlb_set_page=function(e,s,a,c){var t,r;s&=-4096,e&=-4096,r=e^s,t=e>>>12,-1==this.tlb_read_kernel[t]&&(this.tlb_pages_count>=2048&&this.tlb_flush_all1(t-1&1048575),this.tlb_pages[this.tlb_pages_count++]=t),this.tlb_read_kernel[t]=r,this.tlb_write_kernel[t]=a?r:-1,c?(this.tlb_read_user[t]=r,this.tlb_write_user[t]=a?r:-1):(this.tlb_read_user[t]=-1,this.tlb_write_user[t]=-1)},CPU_X86.prototype.tlb_flush_page=function(e){var s;s=e>>>12,this.tlb_read_kernel[s]=-1,this.tlb_write_kernel[s]=-1,this.tlb_read_user[s]=-1,this.tlb_write_user[s]=-1},CPU_X86.prototype.tlb_flush_all=function(){var e,s,a,c;for(c=this.tlb_pages,a=this.tlb_pages_count,s=0;s<a;s++)e=c[s],this.tlb_read_kernel[e]=-1,this.tlb_write_kernel[e]=-1,this.tlb_read_user[e]=-1,this.tlb_write_user[e]=-1;this.tlb_pages_count=0},CPU_X86.prototype.tlb_flush_all1=function(e){var s,a,c,t,r;for(t=this.tlb_pages,c=this.tlb_pages_count,r=0,a=0;a<c;a++)s=t[a],s==e?t[r++]=s:(this.tlb_read_kernel[s]=-1,this.tlb_write_kernel[s]=-1,this.tlb_read_user[s]=-1,this.tlb_write_user[s]=-1);this.tlb_pages_count=r},CPU_X86.prototype.write_string=function(e,s){var a;for(a=0;a<s.length;a++)this.st8_phys(e++,255&s.charCodeAt(a));this.st8_phys(e,0)},CPU_X86.prototype.dump_short=function(){console.log(" EIP="+pa(this.eip)+" EAX="+pa(this.regs[0])+" ECX="+pa(this.regs[1])+" EDX="+pa(this.regs[2])+" EBX="+pa(this.regs[3])),console.log("EFL="+pa(this.eflags)+" ESP="+pa(this.regs[4])+" EBP="+pa(this.regs[5])+" ESI="+pa(this.regs[6])+" EDI="+pa(this.regs[7]))},CPU_X86.prototype.dump=function(){var e,s,a,c=[" ES"," CS"," SS"," DS"," FS"," GS","LDT"," TR"];for(this.dump_short(),console.log("TSC="+pa(this.cycle_count)+" OP="+qa(this.cc_op)+" SRC="+pa(this.cc_src)+" DST="+pa(this.cc_dst)+" OP2="+qa(this.cc_op2)+" DST2="+pa(this.cc_dst2)),console.log("CPL="+this.cpl+" CR0="+pa(this.cr0)+" CR2="+pa(this.cr2)+" CR3="+pa(this.cr3)+" CR4="+pa(this.cr4)),a="",e=0;e<8;e++)s=6==e?this.ldt:7==e?this.tr:this.segs[e],a+=c[e]+"="+ra(s.selector)+" "+pa(s.base)+" "+pa(s.limit)+" "+ra(s.flags>>8&61695),1&e?(console.log(a),a=""):a+=" ";s=this.gdt,a="GDT=     "+pa(s.base)+" "+pa(s.limit)+"      ",s=this.idt,a+="IDT=     "+pa(s.base)+" "+pa(s.limit),console.log(a)},CPU_X86.prototype.exec_internal=function(e,s){function a(){var e;return Ae(os,0,3==is.cpl),e=Os[os>>>12]^os,Rs[e]}function c(){var e;return-1==(e=Os[os>>>12])?a():Rs[os^e]}function t(){var e;return e=c(),os++,e|=c()<<8,os--,e}function r(){var e;return 1&((e=Os[os>>>12])|os)?t():Ns[(os^e)>>1]}function i(){var e;return e=c(),os++,e|=c()<<8,os++,e|=c()<<16,os++,e|=c()<<24,os-=3,e}function o(){var e;return 3&((e=Os[os>>>12])|os)?i():Ds[(os^e)>>2]}function n(){var e;return Ae(os,1,3==is.cpl),e=Bs[os>>>12]^os,Rs[e]}function h(){var e;return-1==(e=Bs[os>>>12])?n():Rs[os^e]}function _(){var e;return e=h(),os++,e|=h()<<8,os--,e}function b(){var e;return 1&((e=Bs[os>>>12])|os)?_():Ns[(os^e)>>1]}function f(){var e;return e=h(),os++,e|=h()<<8,os++,e|=h()<<16,os++,e|=h()<<24,os-=3,e}function u(){var e;return 3&((e=Bs[os>>>12])|os)?f():Ds[(os^e)>>2]}function l(e){var s;Ae(os,1,3==is.cpl),s=Bs[os>>>12]^os,Rs[s]=e}function d(e){var s;s=Bs[os>>>12],-1==s?l(e):Rs[os^s]=e}function k(e){d(e),os++,d(e>>8),os--}function p(e){var s;s=Bs[os>>>12],1&(s|os)?k(e):Ns[(os^s)>>1]=e}function g(e){d(e),os++,d(e>>8),os++,d(e>>16),os++,d(e>>24),os-=3}function w(e){var s;s=Bs[os>>>12],3&(s|os)?g(e):Ds[(os^s)>>2]=e}function v(){var e;return Ae(os,0,0),e=Is[os>>>12]^os,Rs[e]}function y(){var e;return-1==(e=Is[os>>>12])?v():Rs[os^e]}function m(){var e;return e=y(),os++,e|=y()<<8,os--,e}function q(){var e;return 1&((e=Is[os>>>12])|os)?m():Ns[(os^e)>>1]}function C(){var e;return e=y(),os++,e|=y()<<8,os++,e|=y()<<16,os++,e|=y()<<24,os-=3,e}function x(){var e;return 3&((e=Is[os>>>12])|os)?C():Ds[(os^e)>>2]}function E(e){var s;Ae(os,1,0),s=Ls[os>>>12]^os,Rs[s]=e}function P(e){var s;s=Ls[os>>>12],-1==s?E(e):Rs[os^s]=e}function A(e){P(e),os++,P(e>>8),os--}function U(e){var s;s=Ls[os>>>12],1&(s|os)?A(e):Ns[(os^s)>>1]=e}function S(e){P(e),os++,P(e>>8),os++,P(e>>16),os++,P(e>>24),os-=3}function X(e){var s;s=Ls[os>>>12],3&(s|os)?S(e):Ds[(os^s)>>2]=e}function R(){var e,s;return e=Rs[Ws++],s=Rs[Ws++],e|s<<8}function T(e){var s,a,c,t,r,i;if(Us&&0==(143&ls)){switch(7&e|e>>3&24){case 4:c=Rs[Ws++],s=7&c,5==s?(a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4):a=ns[s],t=c>>3&7,4!=t&&(a=a+(ns[t]<<(c>>6))>>0);break;case 12:c=Rs[Ws++],a=Rs[Ws++]<<24>>24,s=7&c,a=a+ns[s]>>0,t=c>>3&7,4!=t&&(a=a+(ns[t]<<(c>>6))>>0);break;case 20:c=Rs[Ws++],a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,s=7&c,a=a+ns[s]>>0,t=c>>3&7,4!=t&&(a=a+(ns[t]<<(c>>6))>>0);break;case 5:a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:s=7&e,a=ns[s];break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:a=Rs[Ws++]<<24>>24,s=7&e,a=a+ns[s]>>0;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:default:a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,s=7&e,a=a+ns[s]>>0}return a}if(128&ls){if(6==(199&e))a=R(),i=3;else{switch(e>>6){case 0:a=0;break;case 1:a=Rs[Ws++]<<24>>24;break;default:a=R()}switch(7&e){case 0:a=a+ns[3]+ns[6]&65535,i=3;break;case 1:a=a+ns[3]+ns[7]&65535,i=3;break;case 2:a=a+ns[5]+ns[6]&65535,i=2;break;case 3:a=a+ns[5]+ns[7]&65535,i=2;break;case 4:a=a+ns[6]&65535,i=3;break;case 5:a=a+ns[7]&65535,i=3;break;case 6:a=a+ns[5]&65535,i=2;break;case 7:default:a=a+ns[3]&65535,i=3}}return r=15&ls,0==r?r=i:r--,a=a+is.segs[r].base>>0}switch(7&e|e>>3&24){case 4:c=Rs[Ws++],s=7&c,5==s?(a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,s=0):a=ns[s],t=c>>3&7,4!=t&&(a=a+(ns[t]<<(c>>6))>>0);break;case 12:c=Rs[Ws++],a=Rs[Ws++]<<24>>24,s=7&c,a=a+ns[s]>>0,t=c>>3&7,4!=t&&(a=a+(ns[t]<<(c>>6))>>0);break;case 20:c=Rs[Ws++],a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,s=7&c,a=a+ns[s]>>0,t=c>>3&7,4!=t&&(a=a+(ns[t]<<(c>>6))>>0);break;case 5:a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,s=0;break;case 0:case 1:case 2:case 3:case 6:case 7:s=7&e,a=ns[s];break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:a=Rs[Ws++]<<24>>24,s=7&e,a=a+ns[s]>>0;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:default:a=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,s=7&e,a=a+ns[s]>>0}return r=15&ls,0==r?r=4==s||5==s?2:3:r--,a=a+is.segs[r].base>>0}function N(){var e,s;return 128&ls?e=R():(e=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4),s=15&ls,0==s?s=3:s--,e=e+is.segs[s].base>>0}function D(e,s){ns[3&e]=4&e?-65281&ns[3&e]|(255&s)<<8:-256&ns[3&e]|255&s}function I(e,s){ns[e]=-65536&ns[e]|65535&s}function L(e,s,a){var c;switch(e){case 0:hs=a,s=s+a>>0,_s=s,bs=2;break;case 1:s|=a,_s=s,bs=14;break;case 2:c=te(),hs=a,s=s+a+c>>0,_s=s,bs=c?5:2;break;case 3:c=te(),hs=a,s=s-a-c>>0,_s=s,bs=c?11:8;break;case 4:s&=a,_s=s,bs=14;break;case 5:hs=a,s=s-a>>0,_s=s,bs=8;break;case 6:s^=a,_s=s,bs=14;break;case 7:hs=a,_s=s-a>>0,bs=8;break;default:throw"arith"+cc+": invalid op"}return s}function M(e,s,a){var c;switch(e){case 0:hs=a,s=s+a<<16>>16,_s=s,bs=1;break;case 1:s=(s|a)<<16>>16,_s=s,bs=13;break;case 2:c=te(),hs=a,s=s+a+c<<16>>16,_s=s,bs=c?4:1;break;case 3:c=te(),hs=a,s=s-a-c<<16>>16,_s=s,bs=c?10:7;break;case 4:s=(s&a)<<16>>16,_s=s,bs=13;break;case 5:hs=a,s=s-a<<16>>16,_s=s,bs=7;break;case 6:s=(s^a)<<16>>16,_s=s,bs=13;break;case 7:hs=a,_s=s-a<<16>>16,bs=7;break;default:throw"arith"+cc+": invalid op"}return s}function z(e){return bs<25&&(fs=bs,us=_s),_s=e+1<<16>>16,bs=26,_s}function O(e){return bs<25&&(fs=bs,us=_s),_s=e-1<<16>>16,bs=29,_s}function B(e,s,a){var c;switch(e){case 0:hs=a,s=s+a<<24>>24,_s=s,bs=0;break;case 1:s=(s|a)<<24>>24,_s=s,bs=12;break;case 2:c=te(),hs=a,s=s+a+c<<24>>24,_s=s,bs=c?3:0;break;case 3:c=te(),hs=a,s=s-a-c<<24>>24,_s=s,bs=c?9:6;break;case 4:s=(s&a)<<24>>24,_s=s,bs=12;break;case 5:hs=a,s=s-a<<24>>24,_s=s,bs=6;break;case 6:s=(s^a)<<24>>24,_s=s,bs=12;break;case 7:hs=a,_s=s-a<<24>>24,bs=6;break;default:throw"arith"+cc+": invalid op"}return s}function F(e){return bs<25&&(fs=bs,us=_s),_s=e+1<<24>>24,bs=25,_s}function W(e){return bs<25&&(fs=bs,us=_s),_s=e-1<<24>>24,bs=28,_s}function Y(e,s,a){var c,t;switch(e){case 0:31&a&&(a&=7,s&=255,c=s,s=s<<a|s>>>8-a,hs=fe(),hs|=1&s|(c^s)<<4&2048,_s=hs>>6&1^1,bs=24);break;case 1:31&a&&(a&=7,s&=255,c=s,s=s>>>a|s<<8-a,hs=fe(),hs|=s>>7&1|(c^s)<<4&2048,_s=hs>>6&1^1,bs=24);break;case 2:a=ca[31&a],a&&(s&=255,c=s,t=te(),s=s<<a|t<<a-1,a>1&&(s|=c>>>9-a),hs=fe(),hs|=(c^s)<<4&2048|c>>8-a&1,_s=hs>>6&1^1,bs=24);break;case 3:a=ca[31&a],a&&(s&=255,c=s,t=te(),s=s>>>a|t<<8-a,a>1&&(s|=c<<9-a),hs=fe(),hs|=(c^s)<<4&2048|c>>a-1&1,_s=hs>>6&1^1,bs=24);break;case 4:case 6:a&=31,a&&(hs=s<<a-1,_s=s=s<<a<<24>>24,bs=15);break;case 5:a&=31,a&&(s&=255,hs=s>>>a-1,_s=s=s>>>a<<24>>24,bs=18);break;case 7:a&=31,a&&(s=s<<24>>24,hs=s>>a-1,_s=s=s>>a<<24>>24,bs=18);break;default:throw"unsupported shift8="+e}return s}function j(e,s,a){var c,t;switch(e){case 0:31&a&&(a&=15,s&=65535,c=s,s=s<<a|s>>>16-a,hs=fe(),hs|=1&s|(c^s)>>4&2048,_s=hs>>6&1^1,bs=24);break;case 1:31&a&&(a&=15,s&=65535,c=s,s=s>>>a|s<<16-a,hs=fe(),hs|=s>>15&1|(c^s)>>4&2048,_s=hs>>6&1^1,bs=24);break;case 2:a=ba[31&a],a&&(s&=65535,c=s,t=te(),s=s<<a|t<<a-1,a>1&&(s|=c>>>17-a),hs=fe(),hs|=(c^s)>>4&2048|c>>16-a&1,_s=hs>>6&1^1,bs=24);break;case 3:a=ba[31&a],a&&(s&=65535,c=s,t=te(),s=s>>>a|t<<16-a,a>1&&(s|=c<<17-a),hs=fe(),hs|=(c^s)>>4&2048|c>>a-1&1,_s=hs>>6&1^1,bs=24);break;case 4:case 6:a&=31,a&&(hs=s<<a-1,_s=s=s<<a<<16>>16,bs=16);break;case 5:a&=31,a&&(s&=65535,hs=s>>>a-1,_s=s=s>>>a<<16>>16,bs=19);break;case 7:a&=31,a&&(s=s<<16>>16,hs=s>>a-1,_s=s=s>>a<<16>>16,bs=19);break;default:throw"unsupported shift16="+e}return s}function G(e,s,a){var c,t;switch(e){case 0:a&=31,a&&(c=s,s=s<<a|s>>>32-a,hs=fe(),hs|=1&s|(c^s)>>20&2048,_s=hs>>6&1^1,bs=24);break;case 1:a&=31,a&&(c=s,s=s>>>a|s<<32-a,hs=fe(),hs|=s>>31&1|(c^s)>>20&2048,_s=hs>>6&1^1,bs=24);break;case 2:a&=31,a&&(c=s,t=te(),s=s<<a|t<<a-1,a>1&&(s|=c>>>33-a),hs=fe(),hs|=(c^s)>>20&2048|c>>32-a&1,_s=hs>>6&1^1,bs=24);break;case 3:a&=31,a&&(c=s,t=te(),s=s>>>a|t<<32-a,a>1&&(s|=c<<33-a),hs=fe(),hs|=(c^s)>>20&2048|c>>a-1&1,_s=hs>>6&1^1,bs=24);break;case 4:case 6:a&=31,a&&(hs=s<<a-1,_s=s<<=a,bs=17);break;case 5:a&=31,a&&(hs=s>>>a-1,_s=s>>>=a,bs=20);break;case 7:a&=31,a&&(hs=s>>a-1,_s=s>>=a,bs=20);break;default:throw"unsupported shift32="+e}return s}function H(e,s,a,c){var t;return c&=31,c&&(0==e?(a&=65535,t=a|s<<16,hs=t>>32-c,t<<=c,c>16&&(t|=a<<c-16),s=_s=t>>16,bs=19):(t=65535&s|a<<16,hs=t>>c-1,t>>=c,c>16&&(t|=a<<32-c),s=_s=t<<16>>16,bs=19)),s}function J(e,s,a){return a&=31,a&&(hs=e<<a-1,_s=e=e<<a|s>>>32-a,bs=17),e}function K(e,s,a){return a&=31,a&&(hs=e>>a-1,_s=e=e>>>a|s<<32-a,bs=20),e}function Q(e,s){s&=15,hs=e>>s,bs=19}function V(e,s){s&=31,hs=e>>s,bs=20}function Z(e,s,a){var c;switch(a&=15,hs=s>>a,c=1<<a,e){case 1:s|=c;break;case 2:s&=~c;break;case 3:default:s^=c}return bs=19,s}function $(e,s,a){var c;switch(a&=31,hs=s>>a,c=1<<a,e){case 1:s|=c;break;case 2:s&=~c;break;case 3:default:s^=c}return bs=20,s}function ee(e,s,a){var c,t,r;if(e>>>=0,s>>>=0,a>>>=0,e>=a&&ge(0),e>=0&&e<=2097152)return c=4294967296*e+s,xs=c%a>>0,c/a>>0;for(t=0;t<32;t++)r=e>>31,e=(e<<1|s>>>31)>>>0,r||e>=a?(e-=a,s=s<<1|1):s<<=1;return xs=e>>0,s}function se(e,s){var a;return e=e<<16>>16,s=s<<16>>16,a=e*s>>0,_s=a<<16>>16,hs=(a!=_s)>>0,bs=22,a}function ae(e,s){var a,c,t,r,i,o;return e>>>=0,s>>>=0,a=e*s,a<=4294967295?(xs=0,a&=-1):(c=65535&e,t=e>>>16,r=65535&s,i=s>>>16,a=c*r,xs=t*i,o=c*i,a+=(65535&o)<<16>>>0,xs+=o>>>16,a>=4294967296&&(a-=4294967296,xs++),o=t*r,a+=(65535&o)<<16>>>0,xs+=o>>>16,a>=4294967296&&(a-=4294967296,xs++),a&=-1,xs&=-1),a}function ce(e,s){var a,c;return a=0,e<0&&(e=-e,a=1),s<0&&(s=-s,a^=1),c=ae(e,s),a&&(xs=~xs,0==(c=-c>>0)&&(xs=xs+1>>0)),_s=c,hs=xs-(c>>31)>>0,bs=23,c}function te(){var e,s,a,c;switch(bs>=25?(a=fs,c=us):(a=bs,c=_s),a){case 0:s=(255&c)<(255&hs);break;case 1:s=(65535&c)<(65535&hs);break;case 2:s=c>>>0<hs>>>0;break;case 3:s=(255&c)<=(255&hs);break;case 4:s=(65535&c)<=(65535&hs);break;case 5:s=c>>>0<=hs>>>0;break;case 6:s=(c+hs&255)<(255&hs);break;case 7:s=(c+hs&65535)<(65535&hs);break;case 8:s=c+hs>>>0<hs>>>0;break;case 9:e=c+hs+1&255,s=e<=(255&hs);break;case 10:e=c+hs+1&65535,s=e<=(65535&hs);break;case 11:e=c+hs+1>>>0,s=e<=hs>>>0;break;case 12:case 13:case 14:s=0;break;case 15:s=hs>>7&1;break;case 16:s=hs>>15&1;break;case 17:s=hs>>31&1;break;case 18:case 19:case 20:s=1&hs;break;case 21:case 22:case 23:s=0!=hs;break;case 24:s=1&hs;break;default:throw"GET_CARRY: unsupported cc_op="+bs}return s}function re(){var e,s;switch(bs){case 0:s=_s-hs>>0,e=((s^hs^-1)&(s^_s))>>7&1;break;case 1:s=_s-hs>>0,e=((s^hs^-1)&(s^_s))>>15&1;break;case 2:s=_s-hs>>0,e=((s^hs^-1)&(s^_s))>>31&1;break;case 3:s=_s-hs-1>>0,e=((s^hs^-1)&(s^_s))>>7&1;break;case 4:s=_s-hs-1>>0,e=((s^hs^-1)&(s^_s))>>15&1;break;case 5:s=_s-hs-1>>0,e=((s^hs^-1)&(s^_s))>>31&1;break;case 6:s=_s+hs>>0,e=((s^hs)&(s^_s))>>7&1;break;case 7:s=_s+hs>>0,e=((s^hs)&(s^_s))>>15&1;break;case 8:s=_s+hs>>0,e=((s^hs)&(s^_s))>>31&1;break;case 9:s=_s+hs+1>>0,e=((s^hs)&(s^_s))>>7&1;break;case 10:s=_s+hs+1>>0,e=((s^hs)&(s^_s))>>15&1;break;case 11:s=_s+hs+1>>0,e=((s^hs)&(s^_s))>>31&1;break;case 12:case 13:case 14:e=0;break;case 15:case 18:e=(hs^_s)>>7&1;break;case 16:case 19:e=(hs^_s)>>15&1;break;case 17:case 20:e=(hs^_s)>>31&1;break;case 21:case 22:case 23:e=0!=hs;break;case 24:e=hs>>11&1;break;case 25:e=128==(255&_s);break;case 26:e=32768==(65535&_s);break;case 27:e=-2147483648==_s;break;case 28:e=127==(255&_s);break;case 29:e=32767==(65535&_s);break;case 30:e=2147483647==_s;break;default:throw"JO: unsupported cc_op="+bs}return e}function ie(){var e;switch(bs){case 6:e=(_s+hs&255)<=(255&hs);break;case 7:e=(_s+hs&65535)<=(65535&hs);break;case 8:e=_s+hs>>>0<=hs>>>0;break;case 24:e=0!=(65&hs);break;default:e=te()|0==_s}return e}function oe(){return 24==bs?hs>>2&1:aa[255&_s]}function ne(){var e;switch(bs){case 6:e=_s+hs<<24<hs<<24;break;case 7:e=_s+hs<<16<hs<<16;break;case 8:e=_s+hs>>0<hs;break;case 12:case 25:case 28:case 13:case 26:case 29:case 14:case 27:case 30:e=_s<0;break;case 24:e=1&(hs>>7^hs>>11);break;default:e=(24==bs?hs>>7&1:_s<0)^re()}return e}function he(){var e;switch(bs){case 6:e=_s+hs<<24<=hs<<24;break;case 7:e=_s+hs<<16<=hs<<16;break;case 8:e=_s+hs>>0<=hs;break;case 12:case 25:case 28:case 13:case 26:case 29:case 14:case 27:case 30:e=_s<=0;break;case 24:e=1&(hs>>7^hs>>11|hs>>6);break;default:e=(24==bs?hs>>7&1:_s<0)^re()|0==_s}return e}function _e(){var e,s;switch(bs){case 0:case 1:case 2:e=_s-hs>>0,s=16&(_s^e^hs);break;case 3:case 4:case 5:e=_s-hs-1>>0,s=16&(_s^e^hs);break;case 6:case 7:case 8:e=_s+hs>>0,s=16&(_s^e^hs);break;case 9:case 10:case 11:e=_s+hs+1>>0,s=16&(_s^e^hs);break;case 12:case 13:case 14:s=0;break;case 15:case 18:case 16:case 19:case 17:case 20:case 21:case 22:case 23:s=0;break;case 24:s=16&hs;break;case 25:case 26:case 27:s=16&(_s^_s-1);break;case 28:case 29:case 30:s=16&(_s^_s+1);break;default:throw"AF: unsupported cc_op="+bs}return s}function be(e){var s;switch(e>>1){case 0:s=re();break;case 1:s=te();break;case 2:s=0==_s;break;case 3:s=ie();break;case 4:s=24==bs?hs>>7&1:_s<0;break;case 5:s=oe();break;case 6:s=ne();break;case 7:s=he();break;default:throw"unsupported cond: "+e}return s^1&e}function fe(){return oe()<<2|(0==_s)<<6|(24==bs?hs>>7&1:_s<0)<<7|_e()}function ue(){return te()<<0|oe()<<2|(0==_s)<<6|(24==bs?hs>>7&1:_s<0)<<7|re()<<11|_e()}function le(){var e;return e=ue(),e|=1024&is.df,e|=is.eflags}function de(e,s){hs=2261&e,_s=hs>>6&1^1,bs=24,is.df=1-2*(e>>10&1),is.eflags=is.eflags&~s|e&s}function ke(e){throw"CPU abort: "+e}function pe(s,a){throw is.cycle_count+=e-qs,is.eip=Fs,is.cc_src=hs,is.cc_dst=_s,is.cc_op=bs,is.cc_op2=fs,is.cc_dst2=us,{intno:s,error_code:a}}function ge(e){pe(e,0)}function we(e){is.cpl=e,3==is.cpl?(Os=Ms,Bs=zs):(Os=Is,Bs=Ls)}function ve(e,s){var a;return a=s?Bs[e>>>12]:Os[e>>>12],-1==a&&(Ae(e,s,3==is.cpl),a=s?Bs[e>>>12]:Os[e>>>12]),a^e}function ye(e){var s;s=ns[4]-2,os=(s&As)+Ps>>0,p(e),ns[4]=ns[4]&~As|s&As}function me(e){var s;s=ns[4]-4,os=(s&As)+Ps>>0,w(e),ns[4]=ns[4]&~As|s&As}function qe(){return os=(ns[4]&As)+Ps>>0,r()}function Ce(){ns[4]=ns[4]&~As|ns[4]+2&As}function xe(){return os=(ns[4]&As)+Ps>>0,o()}function Ee(){ns[4]=ns[4]&~As|ns[4]+4&As}function Pe(e,s){var c,t,r,i,o,n;c=1,t=Ss,n=256&t?2:4;e:for(;;)switch(s){case 102:256&Ss?(n=4,t&=-257):(n=2,t|=256);case 240:case 242:case 243:case 38:case 46:case 54:case 62:case 100:case 101:c+1>15&&ge(6),os=e+c++>>0,s=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts];break;case 103:128&Ss?t&=-129:t|=128,c+1>15&&ge(6),os=e+c++>>0,s=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts];break;case 145:case 146:case 147:case 148:case 149:case 150:case 151:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 152:case 153:case 201:case 156:case 157:case 6:case 14:case 22:case 30:case 7:case 23:case 31:case 195:case 203:case 144:case 204:case 206:case 207:case 245:case 248:case 249:case 252:case 253:case 250:case 251:case 158:case 159:case 244:case 164:case 165:case 170:case 171:case 166:case 167:case 172:case 173:case 174:case 175:case 155:case 236:case 237:case 238:case 239:case 215:case 39:case 47:case 55:case 63:case 96:case 97:case 108:case 109:case 110:case 111:break e;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 4:case 12:case 20:case 28:case 36:case 44:case 52:case 60:case 168:case 106:case 235:case 112:case 113:case 114:case 115:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 116:case 117:case 224:case 225:case 226:case 227:case 205:case 228:case 229:case 230:case 231:case 212:case 213:c++,c>15&&ge(6);break e;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:case 5:case 13:case 21:case 29:case 37:case 45:case 53:case 61:case 169:case 104:case 233:case 232:c+=n,c>15&&ge(6);break e;case 136:case 137:case 138:case 139:case 134:case 135:case 142:case 140:case 196:case 197:case 0:case 8:case 16:case 24:case 32:case 40:case 48:case 56:case 1:case 9:case 17:case 25:case 33:case 41:case 49:case 57:case 2:case 10:case 18:case 26:case 34:case 42:case 50:case 58:case 3:case 11:case 19:case 27:case 35:case 43:case 51:case 59:case 132:case 133:case 208:case 209:case 210:case 211:case 143:case 141:case 254:case 255:case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:case 98:case 99:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6);break e;case 160:case 161:case 162:case 163:c+=256&t?2:4,c>15&&ge(6);break e;case 198:case 128:case 130:case 131:case 107:case 192:case 193:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6),c++,c>15&&ge(6);break e;case 199:case 129:case 105:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6),c+=n,c>15&&ge(6);break e;case 246:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6),o=r>>3&7,0==o&&++c>15&&ge(6);break e;case 247:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6),o=r>>3&7,0==o&&(c+=n)>15&&ge(6);break e;case 234:case 154:c+=2+n,c>15&&ge(6);break e;case 194:case 202:c+=2,c>15&&ge(6);break e;case 200:c+=3,c>15&&ge(6);break e;case 214:case 241:default:ge(6);case 15:switch(c+1>15&&ge(6),os=e+c++>>0,s=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],s){case 6:case 162:case 49:case 160:case 168:case 161:case 169:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:break e;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:c+=n,c>15&&ge(6);break e;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 182:case 183:case 190:case 191:case 0:case 1:case 2:case 3:case 32:case 34:case 35:case 178:case 180:case 181:case 165:case 173:case 163:case 171:case 179:case 187:case 188:case 189:case 175:case 192:case 193:case 176:case 177:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6);break e;case 164:case 172:case 186:if(c+1>15&&ge(6),os=e+c++>>0,r=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],128&t)switch(r>>6){case 0:6==(7&r)&&(c+=2);break;case 1:c++;break;default:c+=2}else switch(7&r|r>>3&24){case 4:c+1>15&&ge(6),os=e+c++>>0,i=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts],5==(7&i)&&(c+=4);break;case 12:c+=2;break;case 20:c+=5;break;case 5:c+=4;break;case 0:case 1:case 2:case 3:case 6:case 7:break;case 8:case 9:case 10:case 11:case 13:case 14:case 15:c++;break;case 16:case 17:case 18:case 19:case 21:case 22:case 23:c+=4}c>15&&ge(6),c++,c>15&&ge(6);break e;case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 166:case 167:case 170:case 174:case 184:case 185:case 194:case 195:case 196:case 197:case 198:case 199:default:ge(6)}}return c}function Ae(e,s,a){var c,t,r,i,o,n,h,_,b;if(is.cr0&1<<31){if(c=(-4096&is.cr3)+(e>>20&4092),1&(t=is.ld32_phys(c)))if(32&t||(t|=32,is.st32_phys(c,t)),i=(-4096&t)+(e>>10&4092),1&(o=is.ld32_phys(i)))if(n=o&t,!a||4&n){if(!s||2&n)return h=s&&!(64&o),32&o&&!h||(o|=32,h&&(o|=64),is.st32_phys(i,o)),
_=0,64&o&&2&n&&(_=1),b=0,4&n&&(b=1),void is.tlb_set_page(-4096&e,-4096&o,_,b);r=1}else r=1;else r=0;else r=0;r|=s<<1,a&&(r|=4),is.cr2=e,pe(14,r)}else is.tlb_set_page(-4096&e,-4096&e,1)}function Ue(e){1&e||ke("real mode not supported"),(-2147418111&e)!=(-2147418111&is.cr0)&&is.tlb_flush_all(),is.cr0=16|e}function Se(e){return e&1<<22?-1:65535}function Re(e){var s,a,c,t;return s=4&e?is.ldt:is.gdt,(a=-8&e)+7>s.limit?null:(os=s.base+a,c=x(),os+=4,t=x(),[c,t])}function Te(e,s){var a;return a=65535&e|983040&s,s&1<<23&&(a=a<<12|4095),a}function Ne(e,s){return-1&(e>>>16|(255&s)<<16|4278190080&s)}function De(e,s,a){e.base=Ne(s,a),e.limit=Te(s,a),e.flags=a}function Ie(){Es=is.segs[1].base,Ps=is.segs[2].base,As=is.segs[2].flags&1<<22?-1:65535,Us=0==(Es|Ps|is.segs[3].base|is.segs[0].base)&&-1==As,Ss=is.segs[1].flags&1<<22?0:384}function Le(e,s,a,c,t){is.segs[e]={selector:s,base:a,limit:c,flags:t},Ie()}function Me(e,s){Le(e,s,s<<4,65535,62208)}function ze(e){var s,a,c,t,r;return 32768&is.tr.flags||ke("invalid tss"),s=is.tr.flags>>8&15,1!=(7&s)&&ke("invalid tss type"),c=s>>3,a=4*e+2<<c,a+(4<<c)-1>is.tr.limit&&pe(10,65532&is.tr.selector),os=is.tr.base+a&-1,0==c?(r=q(),os+=2):(r=x(),os+=4),t=q(),[t,r]}function Oe(e,s,a,c,t){var r,i,o,n,h,_,b,f,u,l,d,k,p,g,w,v,y,m,q,C;if(f=0,!s&&!t)switch(e){case 8:case 10:case 11:case 12:case 13:case 14:case 17:f=1}switch(q=s?c:Fs,r=is.idt,8*e+7>r.limit&&pe(13,8*e+2),os=r.base+8*e&-1,k=x(),os+=4,p=x(),o=p>>8&31){case 5:case 7:case 6:throw"unsupported task gate";case 14:case 15:break;default:pe(13,8*e+2)}n=p>>13&3,b=is.cpl,s&&n<b&&pe(13,8*e+2),32768&p||pe(11,8*e+2),h=k>>16,g=-65536&p|65535&k,0==(65532&h)&&pe(13,0),d=Re(h),d||pe(13,65532&h),k=d[0],p=d[1],4096&p&&2048&p||pe(13,65532&h),n=p>>13&3,n>b&&pe(13,65532&h),32768&p||pe(11,65532&h),!(1024&p)&&n<b?(d=ze(n),w=d[0],v=d[1],0==(65532&w)&&pe(10,65532&w),(3&w)!=n&&pe(10,65532&w),d=Re(w),d||pe(10,65532&w),y=d[0],m=d[1],_=m>>13&3,_!=n&&pe(10,65532&w),4096&m&&!(2048&m)&&512&m||pe(10,65532&w),32768&m||pe(10,65532&w),u=1,C=Se(m),i=Ne(y,m)):1024&p||n==b?(131072&is.eflags&&pe(13,65532&h),u=0,C=Se(is.segs[2].flags),i=is.segs[2].base,v=ns[4],n=b):(pe(13,65532&h),u=0,C=0,i=0,v=0),l=o>>3,1==l?(u&&(131072&is.eflags&&(v=v-4&-1,os=i+(v&C)&-1,X(is.segs[5].selector),v=v-4&-1,os=i+(v&C)&-1,X(is.segs[4].selector),v=v-4&-1,os=i+(v&C)&-1,X(is.segs[3].selector),v=v-4&-1,os=i+(v&C)&-1,X(is.segs[0].selector)),v=v-4&-1,os=i+(v&C)&-1,X(is.segs[2].selector),v=v-4&-1,os=i+(v&C)&-1,X(ns[4])),v=v-4&-1,os=i+(v&C)&-1,X(le()),v=v-4&-1,os=i+(v&C)&-1,X(is.segs[1].selector),v=v-4&-1,os=i+(v&C)&-1,X(q),f&&(v=v-4&-1,os=i+(v&C)&-1,X(a))):(u&&(131072&is.eflags&&(v=v-2&-1,os=i+(v&C)&-1,U(is.segs[5].selector),v=v-2&-1,os=i+(v&C)&-1,U(is.segs[4].selector),v=v-2&-1,os=i+(v&C)&-1,U(is.segs[3].selector),v=v-2&-1,os=i+(v&C)&-1,U(is.segs[0].selector)),v=v-2&-1,os=i+(v&C)&-1,U(is.segs[2].selector),v=v-2&-1,os=i+(v&C)&-1,U(ns[4])),v=v-2&-1,os=i+(v&C)&-1,U(le()),v=v-2&-1,os=i+(v&C)&-1,U(is.segs[1].selector),v=v-2&-1,os=i+(v&C)&-1,U(q),f&&(v=v-2&-1,os=i+(v&C)&-1,U(a))),u&&(131072&is.eflags&&(Le(0,0,0,0,0),Le(3,0,0,0,0),Le(4,0,0,0,0),Le(5,0,0,0,0)),w=-4&w|n,Le(2,w,i,Te(y,m),m)),ns[4]=ns[4]&~C|v&C,h=-4&h|n,Le(1,h,Ne(k,p),Te(k,p),p),we(n),Fs=g,Ws=js=0,0==(1&o)&&(is.eflags&=-513),is.eflags&=-213249}function Be(e,s,a,c,t){var r,i,o,n,h;r=is.idt,4*e+3>r.limit&&pe(13,8*e+2),os=r.base+(e<<2)>>0,o=q(),os=os+2>>0,i=q(),n=ns[4],h=s?c:Fs,n=n-2>>0,os=(n&As)+Ps>>0,p(le()),n=n-2>>0,os=(n&As)+Ps>>0,p(is.segs[1].selector),n=n-2>>0,os=(n&As)+Ps>>0,p(h),ns[4]=ns[4]&~As|n&As,Fs=o,Ws=js=0,is.segs[1].selector=i,is.segs[1].base=i<<4,is.eflags&=-328449}function Fe(e,s,a,t,r){if(6==e){var i,o=Fs;if(n="do_interrupt: intno="+qa(e)+" error_code="+pa(a)+" EIP="+pa(o)+" ESP="+pa(ns[4])+" EAX="+pa(ns[0])+" EBX="+pa(ns[3])+" ECX="+pa(ns[1]),14==e&&(n+=" CR2="+pa(is.cr2)),console.log(n),6==e){var n,h,_;for(n="Code:",i=o+Es>>0,_=4096-(4095&i),_>15&&(_=15),h=0;h<_;h++)os=i+h&-1,n+=" "+qa(c());console.log(n)}}1&is.cr0?Oe(e,s,a,t,r):Be(e,s,a,t,r)}function We(e,s){var a,c,t,r,i,o,n;t=is.cpl,0==(65532&s)?(2==e&&pe(13,0),Le(e,s,0,0,0)):(o=4&s?is.ldt:is.gdt,n=-8&s,n+7>o.limit&&pe(13,65532&s),os=o.base+n&-1,a=x(),os+=4,c=x(),4096&c||pe(13,65532&s),i=3&s,r=c>>13&3,2==e?(!(2048&c)&&512&c||pe(13,65532&s),i==t&&r==t||pe(13,65532&s)):(2048==(2560&c)&&pe(13,65532&s),2048&c&&1024&c||(r<t||r<i)&&pe(13,65532&s)),32768&c||(2==e?pe(12,65532&s):pe(11,65532&s)),256&c||(c|=256,X(c)),Le(e,s,Ne(a,c),Te(a,c),c))}function je(e,s){var a;s&=65535,1&is.cr0?131072&is.eflags?Me(e,s):We(e,s):(a=is.segs[e],a.selector=s,a.base=s<<4)}function Ge(e,s){Fs=s,Ws=js=0,is.segs[1].selector=e,is.segs[1].base=e<<4,Ie()}function He(e,s){var a,c,t,r,i,o,n;0==(65532&e)&&pe(13,0),n=Re(e),n||pe(13,65532&e),a=n[0],c=n[1],t=is.cpl,4096&c?(2048&c||pe(13,65532&e),r=c>>13&3,1024&c?r>t&&pe(13,65532&e):(i=3&e,i>t&&pe(13,65532&e),r!=t&&pe(13,65532&e)),32768&c||pe(11,65532&e),o=Te(a,c),s>>>0>o>>>0&&pe(13,65532&e),Le(1,65532&e|t,Ne(a,c),o,c),Fs=s,Ws=js=0):ke("unsupported jump to call or task gate")}function Je(e,s){!(1&is.cr0)||131072&is.eflags?Ge(e,s):He(e,s)}function Ke(e,s){var a,c;(4!=e&&5!=e||0!=(65532&is.segs[e].selector))&&(c=is.segs[e].flags,a=c>>13&3,2048&c&&1024&c||a<s&&Le(e,0,0,0,0))}function Qe(e,s,a,c){var t;t=ns[4],e?(t=t-4>>0,os=(t&As)+Ps>>0,w(is.segs[1].selector),t=t-4>>0,os=(t&As)+Ps>>0,w(c)):(t=t-2>>0,os=(t&As)+Ps>>0,p(is.segs[1].selector),t=t-2>>0,os=(t&As)+Ps>>0,p(c)),ns[4]=ns[4]&~As|t&As,Fs=a,Ws=js=0,is.segs[1].selector=s,is.segs[1].base=s<<4,Ie()}function Ve(e,s,a,c){var t,r,i,o,n,h,_,b,f,u,l,d,k,p,g,w,v,y,m,q,C,x,E,P;if(0==(65532&s)&&pe(13,0),i=Re(s),i||pe(13,65532&s),o=i[0],n=i[1],h=is.cpl,P=ns[4],4096&n)2048&n||pe(13,65532&s),_=n>>13&3,1024&n?_>h&&pe(13,65532&s):(b=3&s,b>h&&pe(13,65532&s),_!=h&&pe(13,65532&s)),32768&n||pe(11,65532&s),g=P,y=Se(is.segs[2].flags),x=is.segs[2].base,e?(g=g-4&-1,os=x+(g&y)&-1,X(is.segs[1].selector),g=g-4&-1,os=x+(g&y)&-1,X(c)):(g=g-2&-1,os=x+(g&y)&-1,U(is.segs[1].selector),g=g-2&-1,os=x+(g&y)&-1,U(c)),q=Te(o,n),a>q&&pe(13,65532&s),ns[4]=ns[4]&~y|g&y,Le(1,65532&s|h,Ne(o,n),q,n),Fs=a,Ws=js=0;else{switch(w=n>>8&31,_=n>>13&3,b=3&s,w){case 1:case 9:case 5:throw"unsupported task gate";case 4:case 12:break;default:pe(13,65532&s)}if(e=w>>3,(_<h||_<b)&&pe(13,65532&s),32768&n||pe(11,65532&s),f=o>>16,u=4294901760&n|65535&o,l=31&n,0==(65532&f)&&pe(13,0),i=Re(f),i||pe(13,65532&f),o=i[0],n=i[1],4096&n&&2048&n||pe(13,65532&f),_=n>>13&3,_>h&&pe(13,65532&f),32768&n||pe(11,65532&f),!(1024&n)&&_<h){if(i=ze(_),d=i[0],g=i[1],0==(65532&d)&&pe(10,65532&d),(3&d)!=_&&pe(10,65532&d),i=Re(d),i||pe(10,65532&d),k=i[0],p=i[1],v=p>>13&3,v!=_&&pe(10,65532&d),4096&p&&!(2048&p)&&512&p||pe(10,65532&d),32768&p||pe(10,65532&d),C=Se(is.segs[2].flags),E=is.segs[2].base,y=Se(p),x=Ne(k,p),e)for(g=g-4&-1,os=x+(g&y)&-1,X(is.segs[2].selector),g=g-4&-1,os=x+(g&y)&-1,X(P),r=l-1;r>=0;r--)m=Xe(E+(P+4*r&C)),g=g-4&-1,os=x+(g&y)&-1,X(m);else for(g=g-2&-1,os=x+(g&y)&-1,U(is.segs[2].selector),g=g-2&-1,os=x+(g&y)&-1,U(P),r=l-1;r>=0;r--)m=Ye(E+(P+2*r&C)),g=g-2&-1,os=x+(g&y)&-1,U(m);t=1}else g=P,y=Se(is.segs[2].flags),x=is.segs[2].base,t=0;e?(g=g-4&-1,os=x+(g&y)&-1,X(is.segs[1].selector),g=g-4&-1,os=x+(g&y)&-1,X(c)):(g=g-2&-1,os=x+(g&y)&-1,U(is.segs[1].selector),g=g-2&-1,os=x+(g&y)&-1,U(c)),t&&(d=-4&d|_,Le(2,d,x,Te(k,p),p)),f=-4&f|_,Le(1,f,Ne(o,n),Te(o,n),n),we(_),ns[4]=ns[4]&~y|g&y,Fs=u,Ws=js=0}}function Ze(e,s,a,c){!(1&is.cr0)||131072&is.eflags?Qe(e,s,a,c):Ve(e,s,a,c)}function $e(e,s,a){var c,t,r,i,o,n,h;o=65535,c=ns[4],n=is.segs[2].base,1==e?(os=n+(c&o)&-1,r=x(),c=c+4&-1,os=n+(c&o)&-1,t=x(),c=c+4&-1,t&=65535,s&&(os=n+(c&o)&-1,i=x(),c=c+4&-1)):(os=n+(c&o)&-1,r=q(),c=c+2&-1,os=n+(c&o)&-1,t=q(),c=c+2&-1,s&&(os=n+(c&o)&-1,i=q(),c=c+2&-1)),ns[4]=ns[4]&~o|c+a&o,is.segs[1].selector=t,is.segs[1].base=t<<4,Fs=r,Ws=js=0,s&&(h=131072&is.eflags?2441984:2454272,0==e&&(h&=65535),de(i,h)),Ie()}function es(e,s,a){var c,t,r,i,o,n,h,_,b,f,u,l,d,k,p,g,w,v,y,m,C,E;if(E=Se(is.segs[2].flags),y=ns[4],v=is.segs[2].base,t=0,1==e){if(os=v+(y&E)&-1,m=x(),y=y+4&-1,os=v+(y&E)&-1,c=x(),y=y+4&-1,c&=65535,s&&(os=v+(y&E)&-1,t=x(),y=y+4&-1,131072&t))return os=v+(y&E)&-1,C=x(),y=y+4&-1,os=v+(y&E)&-1,r=x(),y=y+4&-1,os=v+(y&E)&-1,i=x(),y=y+4&-1,os=v+(y&E)&-1,o=x(),y=y+4&-1,os=v+(y&E)&-1,n=x(),y=y+4&-1,os=v+(y&E)&-1,h=x(),y=y+4&-1,de(t,4092672),Me(1,65535&c),we(3),Me(2,65535&r),Me(0,65535&i),Me(3,65535&o),Me(4,65535&n),Me(5,65535&h),Fs=65535&m,Ws=js=0,void(ns[4]=ns[4]&~E|C&E)}else os=v+(y&E)&-1,m=q(),y=y+2&-1,os=v+(y&E)&-1,c=q(),y=y+2&-1,s&&(os=v+(y&E)&-1,t=q(),y=y+2&-1);0==(65532&c)&&pe(13,65532&c),_=Re(c),_||pe(13,65532&c),b=_[0],f=_[1],4096&f&&2048&f||pe(13,65532&c),d=is.cpl,p=3&c,p<d&&pe(13,65532&c),k=f>>13&3,1024&f?k>p&&pe(13,65532&c):k!=p&&pe(13,65532&c),32768&f||pe(11,65532&c),y=y+a&-1,p==d?Le(1,c,Ne(b,f),Te(b,f),f):(1==e?(os=v+(y&E)&-1,C=x(),y=y+4&-1,os=v+(y&E)&-1,r=x(),y=y+4&-1,r&=65535):(os=v+(y&E)&-1,C=q(),y=y+2&-1,os=v+(y&E)&-1,r=q(),y=y+2&-1),0==(65532&r)?pe(13,0):((3&r)!=p&&pe(13,65532&r),_=Re(r),_||pe(13,65532&r),u=_[0],l=_[1],4096&l&&!(2048&l)&&512&l||pe(13,65532&r),k=l>>13&3,k!=p&&pe(13,65532&r),32768&l||pe(11,65532&r),Le(2,r,Ne(u,l),Te(u,l),l)),Le(1,c,Ne(b,f),Te(b,f),f),we(p),y=C,E=Se(l),Ke(0,p),Ke(3,p),Ke(4,p),Ke(5,p),y=y+a&-1),ns[4]=ns[4]&~E|y&E,Fs=m,Ws=js=0,s&&(g=2441472,0==d&&(g|=12288),w=is.eflags>>12&3,d<=w&&(g|=512),0==e&&(g&=65535),de(t,g))}function ss(e,s){!(1&is.cr0)||131072&is.eflags?$e(e,0,s):es(e,0,s)}function as(e,s){var a,c,t,r,i,o;if(0==(65532&e))return null;if(!(a=Re(e)))return null;if(c=a[0],t=a[1],r=3&e,i=t>>13&3,o=is.cpl,4096&t){if(2048&t&&1024&t);else if(i<o||i<r)return null}else{switch(t>>8&15){case 1:case 2:case 3:case 9:case 11:break;case 4:case 5:case 12:if(s)return null;break;default:return null}if(i<o||i<r)return null}return s?Te(c,t):15793920&t}function cs(e,s){var a,c,t,r,i;if(0==(65532&e))return 0;if(!(a=Re(e)))return 0;if(a[0],!(4096&(c=a[1])))return 0;if(t=3&e,r=c>>13&3,i=is.cpl,2048&c){if(s)return 0;if(!(512&c))return 1;if(!(1024&c)&&(r<i||r<t))return 0}else{if(r<i||r<t)return 0;if(s&&!(512&c))return 0}return 1}function ts(e){var s,a,c;c=Rs[Ws++],c>>3==3&&ge(6),os=T(c),s=o(),os+=4,a=r(),je(e,a),ns[c>>3&7]=s}function rs(e){var s,a,c;c=Rs[Ws++],c>>3==3&&ge(6),os=T(c),s=r(),os+=2,a=r(),je(e,a),I(c>>3&7,s)}var is,os,ns,hs,_s,bs,fs,us,ls,ds,ks,ps,gs,ws,vs,ys,ms,qs,Cs,xs,Es,Ps,As,Us,Ss,Xs,Rs,Ts,Ns,Ds,Is,Ls,Ms,zs,Os,Bs,Fs,Ws,Ys,js,Gs;if(is=this,Rs=this.phys_mem8,Ns=this.phys_mem16,Ds=this.phys_mem32,Ms=this.tlb_read_user,zs=this.tlb_write_user,Is=this.tlb_read_kernel,Ls=this.tlb_write_kernel,3==is.cpl?(Os=Ms,Bs=zs):(Os=Is,Bs=Ls),is.halted){if(!(0!=is.hard_irq&&512&is.eflags))return 257;is.halted=0}ns=this.regs,hs=this.cc_src,_s=this.cc_dst,bs=this.cc_op,fs=this.cc_op2,us=this.cc_dst2,Fs=this.eip,Ie(),Cs=256,qs=e,s&&Fe(s.intno,0,s.error_code,0,0),is.hard_intno>=0&&(Fe(is.hard_intno,0,0,0,1),is.hard_intno=-1),0!=is.hard_irq&&512&is.eflags&&(is.hard_intno=is.get_hard_intno(),Fe(is.hard_intno,0,0,0,1),is.hard_intno=-1),Ws=0,js=0;e:do{if(Fs=Fs+Ws-js>>0,Gs=Fs+Es>>0,(4095&((Ys=Os[Gs>>>12])|Gs))>=4082){var Hs;if(-1==Ys&&Ae(Gs,0,3==is.cpl),Ys=Os[Gs>>>12],js=Ws=Gs^Ys,ps=Rs[Ws++],(Hs=4095&Gs)>=4082&&(ws=Pe(Gs,ps),Hs+ws>4096)){for(js=Ws=this.mem_size,vs=0;vs<ws;vs++)os=Gs+vs>>0,Rs[Ws+vs]=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts];Ws++}}else js=Ws=Gs^Ys,ps=Rs[Ws++];ps|=256&(ls=Ss);s:for(;;)switch(ps){case 102:ls==Ss&&Pe(Gs,ps),256&Ss?ls&=-257:ls|=256,ps=Rs[Ws++],ps|=256&ls;break;case 103:ls==Ss&&Pe(Gs,ps),128&Ss?ls&=-129:ls|=128,ps=Rs[Ws++],ps|=256&ls;break;case 240:ls==Ss&&Pe(Gs,ps),ls|=64,ps=Rs[Ws++],ps|=256&ls;break;case 242:ls==Ss&&Pe(Gs,ps),ls|=32,ps=Rs[Ws++],ps|=256&ls;break;case 243:ls==Ss&&Pe(Gs,ps),ls|=16,ps=Rs[Ws++],ps|=256&ls;break;case 38:case 46:case 54:case 62:ls==Ss&&Pe(Gs,ps),ls=-16&ls|1+(ps>>3&3),ps=Rs[Ws++],ps|=256&ls;break;case 100:case 101:ls==Ss&&Pe(Gs,ps),ls=-16&ls|1+(7&ps),ps=Rs[Ws++],ps|=256&ls;break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:ws=Rs[Ws++],ps&=7,Ts=(4&ps)<<1,ns[3&ps]=ns[3&ps]&~(255<<Ts)|(255&ws)<<Ts;break s;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,ns[7&ps]=ws;break s;case 136:ds=Rs[Ws++],gs=ds>>3&7,ws=ns[3&gs]>>((4&gs)<<1),ds>>6==3?(ks=7&ds,Ts=(4&ks)<<1,ns[3&ks]=ns[3&ks]&~(255<<Ts)|(255&ws)<<Ts):(os=T(ds),Ts=Bs[os>>>12],-1==Ts?l(ws):Rs[os^Ts]=ws);break s;case 137:ds=Rs[Ws++],ws=ns[ds>>3&7],ds>>6==3?ns[7&ds]=ws:(os=T(ds),Ts=Bs[os>>>12],3&(Ts|os)?g(ws):Ds[(os^Ts)>>2]=ws);break s;case 138:ds=Rs[Ws++],ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts]),gs=ds>>3&7,Ts=(4&gs)<<1,ns[3&gs]=ns[3&gs]&~(255<<Ts)|(255&ws)<<Ts;break s;case 139:ds=Rs[Ws++],ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=3&((Ts=Os[os>>>12])|os)?i():Ds[(os^Ts)>>2]),ns[ds>>3&7]=ws;break s;case 160:os=N(),ws=c(),ns[0]=-256&ns[0]|ws;break s;case 161:os=N(),ws=o(),ns[0]=ws;break s;case 162:os=N(),d(ns[0]);break s;case 163:os=N(),w(ns[0]);break s;case 215:os=ns[3]+(255&ns[0])>>0,128&ls&&(os&=65535),gs=15&ls,0==gs?gs=3:gs--,os=os+is.segs[gs].base>>0,ws=c(),D(0,ws);break s;case 198:ds=Rs[Ws++],ds>>6==3?(ws=Rs[Ws++],D(7&ds,ws)):(os=T(ds),ws=Rs[Ws++],d(ws));break s;case 199:ds=Rs[Ws++],ds>>6==3?(ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,ns[7&ds]=ws):(os=T(ds),ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,w(ws));break s;case 145:case 146:case 147:case 148:case 149:case 150:case 151:gs=7&ps,ws=ns[0],ns[0]=ns[gs],ns[gs]=ws;break s;case 134:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1),D(ks,ns[3&gs]>>((4&gs)<<1))):(os=T(ds),ws=h(),d(ns[3&gs]>>((4&gs)<<1))),D(gs,ws);break s;case 135:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[ks],ns[ks]=ns[gs]):(os=T(ds),ws=u(),w(ns[gs])),ns[gs]=ws;break s;case 142:ds=Rs[Ws++],gs=ds>>3&7,(gs>=6||1==gs)&&ge(6),ds>>6==3?ws=65535&ns[7&ds]:(os=T(ds),ws=r()),je(gs,ws);break s;case 140:ds=Rs[Ws++],gs=ds>>3&7,gs>=6&&ge(6),ws=is.segs[gs].selector,ds>>6==3?ls>>8&1^1?ns[7&ds]=ws:I(7&ds,ws):(os=T(ds),p(ws));break s;case 196:ts(0);break s;case 197:ts(3);break s;case 0:case 8:case 16:case 24:case 32:case 40:case 48:case 56:ds=Rs[Ws++],ms=ps>>3,gs=ds>>3&7,vs=ns[3&gs]>>((4&gs)<<1),ds>>6==3?(ks=7&ds,D(ks,B(ms,ns[3&ks]>>((4&ks)<<1),vs))):(os=T(ds),7!=ms?(ws=h(),ws=B(ms,ws,vs),d(ws)):(ws=c(),B(7,ws,vs)));break s;case 1:ds=Rs[Ws++],vs=ns[ds>>3&7],ds>>6==3?(ks=7&ds,hs=vs,_s=ns[ks]=ns[ks]+hs>>0,bs=2):(os=T(ds),ws=u(),hs=vs,_s=ws=ws+hs>>0,bs=2,w(ws));break s;case 9:case 17:case 25:case 33:case 41:case 49:ds=Rs[Ws++],ms=ps>>3,vs=ns[ds>>3&7],ds>>6==3?(ks=7&ds,ns[ks]=L(ms,ns[ks],vs)):(os=T(ds),ws=u(),ws=L(ms,ws,vs),w(ws));break s;case 57:ds=Rs[Ws++],ms=ps>>3,vs=ns[ds>>3&7],ds>>6==3?(ks=7&ds,hs=vs,_s=ns[ks]-hs>>0,bs=8):(os=T(ds),ws=o(),hs=vs,_s=ws-hs>>0,bs=8);break s;case 2:case 10:case 18:case 26:case 34:case 42:case 50:case 58:ds=Rs[Ws++],ms=ps>>3,gs=ds>>3&7,ds>>6==3?(ks=7&ds,vs=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),vs=c()),D(gs,B(ms,ns[3&gs]>>((4&gs)<<1),vs));break s;case 3:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),hs=vs,_s=ns[gs]=ns[gs]+hs>>0,bs=2;break s;case 11:case 19:case 27:case 35:case 43:case 51:ds=Rs[Ws++],ms=ps>>3,gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),ns[gs]=L(ms,ns[gs],vs);break s;case 59:ds=Rs[Ws++],ms=ps>>3,gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),hs=vs,_s=ns[gs]-hs>>0,bs=8;break s;case 4:case 12:case 20:case 28:case 36:case 44:case 52:case 60:vs=Rs[Ws++],ms=ps>>3,D(0,B(ms,255&ns[0],vs));break s;case 5:vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,hs=vs,_s=ns[0]=ns[0]+hs>>0,bs=2;break s;case 13:case 21:case 29:case 37:case 45:vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,ms=ps>>3,ns[0]=L(ms,ns[0],vs);break s;case 53:vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,_s=ns[0]=ns[0]^vs,bs=14;break s;case 61:vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,hs=vs,_s=ns[0]-hs>>0,bs=8;break s;case 128:case 130:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(ks=7&ds,vs=Rs[Ws++],D(ks,B(ms,ns[3&ks]>>((4&ks)<<1),vs))):(os=T(ds),vs=Rs[Ws++],7!=ms?(ws=h(),ws=B(ms,ws,vs),d(ws)):(ws=c(),B(7,ws,vs)));break s;case 129:ds=Rs[Ws++],ms=ds>>3&7,7==ms?(ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,hs=vs,_s=ws-hs>>0,bs=8):ds>>6==3?(ks=7&ds,vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,ns[ks]=L(ms,ns[ks],vs)):(os=T(ds),vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,ws=u(),ws=L(ms,ws,vs),w(ws));break s;case 131:ds=Rs[Ws++],ms=ds>>3&7,7==ms?(ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),vs=Rs[Ws++]<<24>>24,hs=vs,_s=ws-hs>>0,bs=8):ds>>6==3?(ks=7&ds,vs=Rs[Ws++]<<24>>24,ns[ks]=L(ms,ns[ks],vs)):(os=T(ds),vs=Rs[Ws++]<<24>>24,ws=u(),ws=L(ms,ws,vs),w(ws));break s;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:gs=7&ps,bs<25&&(fs=bs,us=_s),ns[gs]=_s=ns[gs]+1>>0,bs=27;break s;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:gs=7&ps,bs<25&&(fs=bs,us=_s),ns[gs]=_s=ns[gs]-1>>0,bs=30;break s;case 107:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),ys=Rs[Ws++]<<24>>24,ns[gs]=ce(vs,ys);break s;case 105:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),ys=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,ns[gs]=ce(vs,ys);break s;case 132:ds=Rs[Ws++],ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),gs=ds>>3&7,vs=ns[3&gs]>>((4&gs)<<1),_s=(ws&vs)<<24>>24,bs=12;break s;case 133:ds=Rs[Ws++],ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),vs=ns[ds>>3&7],_s=ws&vs,bs=14;break s;case 168:vs=Rs[Ws++],_s=(ns[0]&vs)<<24>>24,bs=12;break s;case 169:vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,_s=ns[0]&vs,bs=14;break s;case 246:switch(ds=Rs[Ws++],ms=ds>>3&7){case 0:ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),vs=Rs[Ws++],_s=(ws&vs)<<24>>24,bs=12;break;case 2:ds>>6==3?(ks=7&ds,D(ks,~(ns[3&ks]>>((4&ks)<<1)))):(os=T(ds),ws=h(),ws=~ws,d(ws));break;case 3:ds>>6==3?(ks=7&ds,D(ks,B(5,0,ns[3&ks]>>((4&ks)<<1)))):(os=T(ds),ws=h(),ws=B(5,0,ws),d(ws));break;case 4:ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),I(0,function(e,s){var a;return e&=255,s&=255,a=(255&ns[0])*(255&s),hs=a>>8,_s=a<<24>>24,bs=21,a}(ns[0],ws));break;case 5:ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),I(0,function(e,s){var a;return e=e<<24>>24,s=s<<24>>24,a=e*s>>0,_s=a<<24>>24,hs=(a!=_s)>>0,bs=21,a}(ns[0],ws));break;case 6:ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),function(e){var s,a,c;s=65535&ns[0],e&=255,s>>8>=e&&ge(0),a=s/e>>0,c=s%e,I(0,255&a|c<<8)}(ws);break;case 7:ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),function(e){var s,a,c;s=ns[0]<<16>>16,e=e<<24>>24,0==e&&ge(0),a=s/e>>0,a<<24>>24!=a&&ge(0),c=s%e,I(0,255&a|c<<8)}(ws);break;default:ge(6)}break s;case 247:switch(ds=Rs[Ws++],ms=ds>>3&7){case 0:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),vs=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,_s=ws&vs,bs=14;break;case 2:ds>>6==3?(ks=7&ds,ns[ks]=~ns[ks]):(os=T(ds),ws=u(),ws=~ws,w(ws));break;case 3:ds>>6==3?(ks=7&ds,ns[ks]=L(5,0,ns[ks])):(os=T(ds),ws=u(),ws=L(5,0,ws),w(ws));break;case 4:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),ns[0]=function(e,s){return _s=ae(e,s),hs=xs,bs=23,_s}(ns[0],ws),ns[2]=xs;break;case 5:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),ns[0]=ce(ns[0],ws),ns[2]=xs;break;case 6:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),ns[0]=ee(ns[2],ns[0],ws),ns[2]=xs;break;case 7:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),ns[0]=function(e,s,a){var c,t,r;return e<0?(c=1,e=~e,0==(s=-s>>0)&&(e=e+1>>0)):c=0,a<0?(a=-a>>0,t=1):t=0,r=ee(e,s,a),t^=c,t?(r>>>0>2147483648&&ge(0),r=-r>>0):r>>>0>=2147483648&&ge(0),c&&(xs=-xs>>0),r}(ns[2],ns[0],ws),ns[2]=xs;break;default:ge(6)}break s;case 192:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(vs=Rs[Ws++],ks=7&ds,D(ks,Y(ms,ns[3&ks]>>((4&ks)<<1),vs))):(os=T(ds),vs=Rs[Ws++],ws=h(),ws=Y(ms,ws,vs),d(ws));break s;case 193:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(vs=Rs[Ws++],ks=7&ds,ns[ks]=G(ms,ns[ks],vs)):(os=T(ds),vs=Rs[Ws++],ws=u(),ws=G(ms,ws,vs),w(ws));break s;case 208:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(ks=7&ds,D(ks,Y(ms,ns[3&ks]>>((4&ks)<<1),1))):(os=T(ds),ws=h(),ws=Y(ms,ws,1),d(ws));break s;case 209:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(ks=7&ds,ns[ks]=G(ms,ns[ks],1)):(os=T(ds),ws=u(),ws=G(ms,ws,1),w(ws));break s;case 210:ds=Rs[Ws++],ms=ds>>3&7,vs=255&ns[1],ds>>6==3?(ks=7&ds,D(ks,Y(ms,ns[3&ks]>>((4&ks)<<1),vs))):(os=T(ds),ws=h(),ws=Y(ms,ws,vs),d(ws));break s;case 211:ds=Rs[Ws++],ms=ds>>3&7,vs=255&ns[1],ds>>6==3?(ks=7&ds,ns[ks]=G(ms,ns[ks],vs)):(os=T(ds),ws=u(),ws=G(ms,ws,vs),w(ws));break s;case 152:ns[0]=ns[0]<<16>>16;break s;case 153:ns[2]=ns[0]>>31;break s;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:ws=ns[7&ps],Us?(os=ns[4]-4>>0,Ts=Bs[os>>>12],3&(Ts|os)?g(ws):Ds[(os^Ts)>>2]=ws,ns[4]=os):me(ws);break s;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:Us?(os=ns[4],ws=3&((Ts=Os[os>>>12])|os)?i():Ds[(os^Ts)>>2],ns[4]=os+4>>0):(ws=xe(),Ee()),ns[7&ps]=ws;break s;case 96:!function(){var e,s,a;for(s=ns[4]-32>>0,os=(s&As)+Ps>>0,a=7;a>=0;a--)e=ns[a],w(e),os=os+4>>0;ns[4]=ns[4]&~As|s&As}();break s;case 97:!function(){var e;for(os=(ns[4]&As)+Ps>>0,e=7;e>=0;e--)4!=e&&(ns[e]=o()),os=os+4>>0;ns[4]=ns[4]&~As|ns[4]+32&As}();break s;case 143:ds=Rs[Ws++],ds>>6==3?(ws=xe(),Ee(),ns[7&ds]=ws):(ws=xe(),vs=ns[4],Ee(),ys=ns[4],os=T(ds),ns[4]=vs,w(ws),ns[4]=ys);break s;case 104:ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,Us?(os=ns[4]-4>>0,w(ws),ns[4]=os):me(ws);break s;case 106:ws=Rs[Ws++]<<24>>24,Us?(os=ns[4]-4>>0,w(ws),ns[4]=os):me(ws);break s;case 200:!function(){var e,s,a,c,t,r;if(e=R(),s=Rs[Ws++],s&=31,a=ns[4],c=ns[5],a=a-4>>0,os=(a&As)+Ps>>0,w(c),r=a,0!=s){for(;s>1;)c=c-4>>0,os=(c&As)+Ps>>0,t=o(),a=a-4>>0,os=(a&As)+Ps>>0,w(t),s--;a=a-4>>0,os=(a&As)+Ps>>0,w(r)}a=a-e>>0,os=(a&As)+Ps>>0,u(),ns[5]=ns[5]&~As|r&As,ns[4]=ns[4]&~As|a&As}();break s;case 201:Us?(os=ns[5],ws=o(),ns[5]=ws,ns[4]=os+4>>0):function(){var e,s;s=ns[5],os=(s&As)+Ps>>0,e=o(),ns[5]=e,ns[4]=ns[4]&~As|s+4&As}();break s;case 156:Xs=is.eflags>>12&3,131072&is.eflags&&3!=Xs&&ge(13),ws=-196609&le(),ls>>8&1^1?me(ws):ye(ws);break s;case 157:if(Xs=is.eflags>>12&3,131072&is.eflags&&3!=Xs&&ge(13),ls>>8&1^1?(ws=xe(),Ee(),vs=-1):(ws=qe(),Ce(),vs=65535),ys=2375936,0==is.cpl?ys|=12800:is.cpl<=Xs&&(ys|=512),de(ws,ys&vs),0!=is.hard_irq&&512&is.eflags)break e;break s;case 6:case 14:case 22:case 30:me(is.segs[ps>>3].selector);break s;case 7:case 23:case 31:je(ps>>3,65535&xe()),Ee();break s;case 141:ds=Rs[Ws++],ds>>6==3&&ge(6),ls=-16&ls|7,ns[ds>>3&7]=T(ds);break s;case 254:switch(ds=Rs[Ws++],ms=ds>>3&7){case 0:ds>>6==3?(ks=7&ds,D(ks,F(ns[3&ks]>>((4&ks)<<1)))):(os=T(ds),ws=h(),ws=F(ws),d(ws));break;case 1:ds>>6==3?(ks=7&ds,D(ks,W(ns[3&ks]>>((4&ks)<<1)))):(os=T(ds),ws=h(),ws=W(ws),d(ws));break;default:ge(6)}break s;case 255:switch(ds=Rs[Ws++],ms=ds>>3&7){case 0:ds>>6==3?(ks=7&ds,bs<25&&(fs=bs,us=_s),ns[ks]=_s=ns[ks]+1>>0,bs=27):(os=T(ds),ws=u(),bs<25&&(fs=bs,us=_s),ws=_s=ws+1>>0,bs=27,w(ws));break;case 1:ds>>6==3?(ks=7&ds,bs<25&&(fs=bs,us=_s),ns[ks]=_s=ns[ks]-1>>0,bs=30):(os=T(ds),ws=u(),bs<25&&(fs=bs,us=_s),ws=_s=ws-1>>0,bs=30,w(ws));break;case 2:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),vs=Fs+Ws-js,Us?(os=ns[4]-4>>0,w(vs),ns[4]=os):me(vs),Fs=ws,Ws=js=0;break;case 4:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),Fs=ws,Ws=js=0;break;case 6:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),Us?(os=ns[4]-4>>0,w(ws),ns[4]=os):me(ws);break;case 3:case 5:ds>>6==3&&ge(6),os=T(ds),ws=o(),os=os+4>>0,vs=r(),3==ms?Ze(1,vs,ws,Fs+Ws-js):Je(vs,ws);break;default:ge(6)}break s;case 235:ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0;break s;case 233:ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,Ws=Ws+ws>>0;break s;case 234:ls>>8&1^1?(ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4):ws=R(),vs=R(),Je(vs,ws);break s;case 112:re()?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 113:re()?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 114:te()?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 115:te()?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 116:0==_s?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 117:0!=_s?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 118:ie()?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 119:ie()?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 120:(24==bs?hs>>7&1:_s<0)?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 121:(24==bs?hs>>7&1:_s<0)?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 122:oe()?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 123:oe()?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 124:ne()?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 125:ne()?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 126:he()?(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0):Ws=Ws+1>>0;break s;case 127:he()?Ws=Ws+1>>0:(ws=Rs[Ws++]<<24>>24,Ws=Ws+ws>>0);break s;case 224:case 225:case 226:ws=Rs[Ws++]<<24>>24,ms=128&ls?65535:-1,vs=ns[1]-1&ms,ns[1]=ns[1]&~ms|vs,ps&=3,ys=0==ps?!(0==_s):1==ps?0==_s:1,vs&&ys&&(256&ls?(Fs=Fs+Ws-js+ws&65535,Ws=js=0):Ws=Ws+ws>>0);break s;case 227:ws=Rs[Ws++]<<24>>24,ms=128&ls?65535:-1,0==(ns[1]&ms)&&(256&ls?(Fs=Fs+Ws-js+ws&65535,Ws=js=0):Ws=Ws+ws>>0);break s;case 194:vs=R()<<16>>16,ws=xe(),ns[4]=ns[4]&~As|ns[4]+4+vs&As,Fs=ws,Ws=js=0;break s;case 195:Us?(os=ns[4],ws=o(),ns[4]=ns[4]+4>>0):(ws=xe(),Ee()),Fs=ws,Ws=js=0;break s;case 232:ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,vs=Fs+Ws-js,Us?(os=ns[4]-4>>0,w(vs),ns[4]=os):me(vs),Ws=Ws+ws>>0;break s;case 154:if(ys=ls>>8&1^1,ys?(ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4):ws=R(),vs=R(),Ze(ys,vs,ws,Fs+Ws-js),0!=is.hard_irq&&512&is.eflags)break e;break s;case 202:if(vs=R()<<16>>16,ss(ls>>8&1^1,vs),0!=is.hard_irq&&512&is.eflags)break e;break s;case 203:if(ss(ls>>8&1^1,0),0!=is.hard_irq&&512&is.eflags)break e;break s;case 207:if(function(e){if(!(1&is.cr0)||131072&is.eflags)131072&is.eflags&&3!=(is.eflags>>12&3)&&ge(13),$e(e,1,0);else{if(16384&is.eflags)throw"unsupported task gate";es(e,1,0)}}(ls>>8&1^1),0!=is.hard_irq&&512&is.eflags)break e;break s;case 144:break s;case 204:vs=Fs+Ws-js,Fe(3,1,0,vs,0);break s;case 205:ws=Rs[Ws++],131072&is.eflags&&3!=(is.eflags>>12&3)&&ge(13),vs=Fs+Ws-js,Fe(ws,1,0,vs,0);break s;case 206:re()&&(vs=Fs+Ws-js,Fe(4,1,0,vs,0));break s;case 98:!function(){var e,s,a,c;e=Rs[Ws++],e>>3==3&&ge(6),os=T(e),s=o(),os=os+4&-1,a=o(),gs=e>>3&7,((c=ns[gs])<s||c>a)&&ge(5)}();break s;case 245:hs=1^ue(),_s=hs>>6&1^1,bs=24;break s;case 248:hs=-2&ue(),_s=hs>>6&1^1,bs=24;break s;case 249:hs=1|ue(),_s=hs>>6&1^1,bs=24;break s;case 252:is.df=1;break s;case 253:is.df=-1;break s;case 250:Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),is.eflags&=-513;break s;case 251:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),is.eflags|=512,0!=is.hard_irq&&512&is.eflags)break e;break s;case 158:hs=ns[0]>>8&213|re()<<11,_s=hs>>6&1^1,bs=24;break s;case 159:ws=le(),D(4,ws);break s;case 244:0!=is.cpl&&ge(13),is.halted=1,Cs=257;break e;case 164:!function(){var e,s,a,t,r,i;if(e=128&ls?65535:-1,r=15&ls,0==r?r=3:r--,a=ns[6],s=ns[7],os=(a&e)+is.segs[r].base>>0,i=(s&e)+is.segs[0].base>>0,48&ls){if(0==((t=ns[1])&e))return;ws=c(),os=i,d(ws),ns[6]=a&~e|a+(is.df<<0)&e,ns[7]=s&~e|s+(is.df<<0)&e,ns[1]=t=t&~e|t-1&e,t&e&&(Ws=js)}else ws=c(),os=i,d(ws),ns[6]=a&~e|a+(is.df<<0)&e,ns[7]=s&~e|s+(is.df<<0)&e}();break s;case 165:!function(){var e,s,a,c,t,r;if(e=128&ls?65535:-1,t=15&ls,0==t?t=3:t--,a=ns[6],s=ns[7],os=(a&e)+is.segs[t].base>>0,r=(s&e)+is.segs[0].base>>0,48&ls){if(0==((c=ns[1])&e))return;if(-1==e&&1==is.df&&0==(3&(os|r))){var i,n,h,_,b,f;for(i=c>>>0,n=4096-(4095&os)>>2,i>n&&(i=n),n=4096-(4095&r)>>2,i>n&&(i=n),h=ve(os,0),_=ve(r,1),f=i<<2,_>>=2,h>>=2,b=0;b<i;b++)Ds[_+b]=Ds[h+b];ns[6]=a+f>>0,ns[7]=s+f>>0,ns[1]=c=c-i>>0,c&&(Ws=js)}else ws=o(),os=r,w(ws),ns[6]=a&~e|a+(is.df<<2)&e,ns[7]=s&~e|s+(is.df<<2)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else ws=o(),os=r,w(ws),ns[6]=a&~e|a+(is.df<<2)&e,ns[7]=s&~e|s+(is.df<<2)&e}();break s;case 170:!function(){var e,s,a;if(e=128&ls?65535:-1,s=ns[7],os=(s&e)+is.segs[0].base>>0,48&ls){if(0==((a=ns[1])&e))return;d(ns[0]),ns[7]=s&~e|s+(is.df<<0)&e,ns[1]=a=a&~e|a-1&e,a&e&&(Ws=js)}else d(ns[0]),ns[7]=s&~e|s+(is.df<<0)&e}();break s;case 171:!function(){var e,s,a;if(e=128&ls?65535:-1,s=ns[7],os=(s&e)+is.segs[0].base>>0,48&ls){if(0==((a=ns[1])&e))return;if(-1==e&&1==is.df&&0==(3&os)){var c,t,r,i,o,n;for(c=a>>>0,t=4096-(4095&os)>>2,c>t&&(c=t),r=ve(ns[7],1),n=ns[0],r>>=2,i=0;i<c;i++)Ds[r+i]=n;o=c<<2,ns[7]=s+o>>0,ns[1]=a=a-c>>0,a&&(Ws=js)}else w(ns[0]),ns[7]=s&~e|s+(is.df<<2)&e,ns[1]=a=a&~e|a-1&e,a&e&&(Ws=js)}else w(ns[0]),ns[7]=s&~e|s+(is.df<<2)&e}();break s;case 166:!function(){var e,s,a,t,r,i;if(e=128&ls?65535:-1,r=15&ls,0==r?r=3:r--,a=ns[6],s=ns[7],os=(a&e)+is.segs[r].base>>0,i=(s&e)+is.segs[0].base>>0,48&ls){if(0==((t=ns[1])&e))return;if(ws=c(),os=i,vs=c(),B(7,ws,vs),ns[6]=a&~e|a+(is.df<<0)&e,ns[7]=s&~e|s+(is.df<<0)&e,ns[1]=t=t&~e|t-1&e,16&ls){if(0!=_s)return}else if(0==_s)return;t&e&&(Ws=js)}else ws=c(),os=i,vs=c(),B(7,ws,vs),ns[6]=a&~e|a+(is.df<<0)&e,ns[7]=s&~e|s+(is.df<<0)&e}();break s;case 167:!function(){var e,s,a,c,t,r;if(e=128&ls?65535:-1,t=15&ls,0==t?t=3:t--,a=ns[6],s=ns[7],os=(a&e)+is.segs[t].base>>0,r=(s&e)+is.segs[0].base>>0,48&ls){if(0==((c=ns[1])&e))return;if(ws=o(),os=r,vs=o(),L(7,ws,vs),ns[6]=a&~e|a+(is.df<<2)&e,ns[7]=s&~e|s+(is.df<<2)&e,ns[1]=c=c&~e|c-1&e,16&ls){if(0!=_s)return}else if(0==_s)return;c&e&&(Ws=js)}else ws=o(),os=r,vs=o(),L(7,ws,vs),ns[6]=a&~e|a+(is.df<<2)&e,ns[7]=s&~e|s+(is.df<<2)&e}();break s;case 172:!function(){var e,s,a,t,r;if(e=128&ls?65535:-1,a=15&ls,0==a?a=3:a--,s=ns[6],os=(s&e)+is.segs[a].base>>0,48&ls){if(0==((t=ns[1])&e))return;r=c(),ns[0]=-256&ns[0]|r,ns[6]=s&~e|s+(is.df<<0)&e,ns[1]=t=t&~e|t-1&e,t&e&&(Ws=js)}else r=c(),ns[0]=-256&ns[0]|r,ns[6]=s&~e|s+(is.df<<0)&e}();break s;case 173:!function(){var e,s,a,c,t;if(e=128&ls?65535:-1,a=15&ls,0==a?a=3:a--,s=ns[6],os=(s&e)+is.segs[a].base>>0,48&ls){if(0==((c=ns[1])&e))return;t=o(),ns[0]=t,ns[6]=s&~e|s+(is.df<<2)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else t=o(),ns[0]=t,ns[6]=s&~e|s+(is.df<<2)&e}();break s;case 174:!function(){var e,s,a,t;if(e=128&ls?65535:-1,s=ns[7],os=(s&e)+is.segs[0].base>>0,48&ls){if(0==((a=ns[1])&e))return;if(t=c(),B(7,ns[0],t),ns[7]=s&~e|s+(is.df<<0)&e,ns[1]=a=a&~e|a-1&e,16&ls){if(0!=_s)return}else if(0==_s)return;a&e&&(Ws=js)}else t=c(),B(7,ns[0],t),ns[7]=s&~e|s+(is.df<<0)&e}();break s;case 175:!function(){var e,s,a,c;if(e=128&ls?65535:-1,s=ns[7],os=(s&e)+is.segs[0].base>>0,48&ls){if(0==((a=ns[1])&e))return;if(c=o(),L(7,ns[0],c),ns[7]=s&~e|s+(is.df<<2)&e,ns[1]=a=a&~e|a-1&e,16&ls){if(0!=_s)return}else if(0==_s)return;a&e&&(Ws=js)}else c=o(),L(7,ns[0],c),ns[7]=s&~e|s+(is.df<<2)&e}();break s;case 108:if(function(){var e,s,a,c,t,r;if(t=is.eflags>>12&3,is.cpl>t&&ge(13),e=128&ls?65535:-1,s=ns[7],a=65535&ns[2],48&ls){if(0==((c=ns[1])&e))return;r=is.ld8_port(a),os=(s&e)+is.segs[0].base>>0,d(r),ns[7]=s&~e|s+(is.df<<0)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else r=is.ld8_port(a),os=(s&e)+is.segs[0].base>>0,d(r),ns[7]=s&~e|s+(is.df<<0)&e}(),0!=is.hard_irq&&512&is.eflags)break e;break s;case 109:if(function(){var e,s,a,c,t,r;if(t=is.eflags>>12&3,is.cpl>t&&ge(13),e=128&ls?65535:-1,s=ns[7],a=65535&ns[2],48&ls){if(0==((c=ns[1])&e))return;if(-1==e&&1==is.df&&0==(3&os)){var i,o,n,h,_,r,b;for(i=c>>>0,o=4096-(4095&os)>>2,i>o&&(i=o),n=ve(ns[7],1),b=is.ld32_port,n>>=2,h=0;h<i;h++)r=b(a),Ds[n+h]=r;_=i<<2,ns[7]=s+_>>0,ns[1]=c=c-i>>0,c&&(Ws=js)}else r=is.ld32_port(a),os=(s&e)+is.segs[0].base>>0,w(r),ns[7]=s&~e|s+(is.df<<2)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else r=is.ld32_port(a),os=(s&e)+is.segs[0].base>>0,w(r),ns[7]=s&~e|s+(is.df<<2)&e}(),0!=is.hard_irq&&512&is.eflags)break e;break s;case 110:if(function(){var e,s,a,t,r,i,o;if(i=is.eflags>>12&3,is.cpl>i&&ge(13),e=128&ls?65535:-1,a=15&ls,0==a?a=3:a--,s=ns[6],r=65535&ns[2],48&ls){if(0==((t=ns[1])&e))return;os=(s&e)+is.segs[a].base>>0,o=c(),is.st8_port(r,o),ns[6]=s&~e|s+(is.df<<0)&e,ns[1]=t=t&~e|t-1&e,t&e&&(Ws=js)}else os=(s&e)+is.segs[a].base>>0,o=c(),is.st8_port(r,o),ns[6]=s&~e|s+(is.df<<0)&e}(),0!=is.hard_irq&&512&is.eflags)break e;break s;case 111:if(function(){
var e,s,a,c,t,r,i;if(r=is.eflags>>12&3,is.cpl>r&&ge(13),e=128&ls?65535:-1,a=15&ls,0==a?a=3:a--,s=ns[6],t=65535&ns[2],48&ls){if(0==((c=ns[1])&e))return;os=(s&e)+is.segs[a].base>>0,i=o(),is.st32_port(t,i),ns[6]=s&~e|s+(is.df<<2)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else os=(s&e)+is.segs[a].base>>0,i=o(),is.st32_port(t,i),ns[6]=s&~e|s+(is.df<<2)&e}(),0!=is.hard_irq&&512&is.eflags)break e;break s;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:12&is.cr0&&ge(7),ds=Rs[Ws++],gs=ds>>3&7,ks=7&ds,ms=(7&ps)<<3|ds>>3&7,I(0,65535),ds>>6==3||(os=T(ds));break s;case 155:break s;case 228:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ws=Rs[Ws++],D(0,is.ld8_port(ws)),0!=is.hard_irq&&512&is.eflags)break e;break s;case 229:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ws=Rs[Ws++],ns[0]=is.ld32_port(ws),0!=is.hard_irq&&512&is.eflags)break e;break s;case 230:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ws=Rs[Ws++],is.st8_port(ws,255&ns[0]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 231:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ws=Rs[Ws++],is.st32_port(ws,ns[0]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 236:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),D(0,is.ld8_port(65535&ns[2])),0!=is.hard_irq&&512&is.eflags)break e;break s;case 237:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ns[0]=is.ld32_port(65535&ns[2]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 238:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),is.st8_port(65535&ns[2],255&ns[0]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 239:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),is.st32_port(65535&ns[2],ns[0]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 39:!function(){var e,s,a,c;c=ue(),a=1&c,s=16&c,e=255&ns[0],c=0,((15&e)>9||s)&&(e=e+6&255,c|=16),(e>159||a)&&(e=e+96&255,c|=1),ns[0]=-256&ns[0]|e,c|=(0==e)<<6,c|=aa[e]<<2,c|=128&e,hs=c,_s=hs>>6&1^1,bs=24}();break s;case 47:!function(){var e,s,a,c,t;t=ue(),c=1&t,a=16&t,e=255&ns[0],t=0,s=e,((15&e)>9||a)&&(t|=16,(e<6||c)&&(t|=1),e=e-6&255),(s>153||c)&&(e=e-96&255,t|=1),ns[0]=-256&ns[0]|e,t|=(0==e)<<6,t|=aa[e]<<2,t|=128&e,hs=t,_s=hs>>6&1^1,bs=24}();break s;case 55:!function(){var e,s,a,c,t;t=ue(),c=16&t,s=255&ns[0],a=ns[0]>>8&255,e=s>249,(15&s)>9||c?(s=s+6&15,a=a+1+e&255,t|=17):(t&=-18,s&=15),ns[0]=-65536&ns[0]|s|a<<8,hs=t,_s=hs>>6&1^1,bs=24}();break s;case 63:!function(){var e,s,a,c,t;t=ue(),c=16&t,s=255&ns[0],a=ns[0]>>8&255,e=s<6,(15&s)>9||c?(s=s-6&15,a=a-1-e&255,t|=17):(t&=-18,s&=15),ns[0]=-65536&ns[0]|s|a<<8,hs=t,_s=hs>>6&1^1,bs=24}();break s;case 212:ws=Rs[Ws++],function(e){var s,a;0==e&&ge(0),s=255&ns[0],a=s/e&-1,s%=e,ns[0]=-65536&ns[0]|s|a<<8,_s=s<<24>>24,bs=12}(ws);break s;case 213:ws=Rs[Ws++],function(e){var s,a;s=255&ns[0],a=ns[0]>>8&255,s=a*e+s&255,ns[0]=-65536&ns[0]|s,_s=s<<24>>24,bs=12}(ws);break s;case 99:!function(){var e,s,a,c;1&is.cr0&&!(131072&is.eflags)||ge(6),e=Rs[Ws++],e>>6==3?(c=7&e,s=65535&ns[c]):(os=T(e),s=b()),a=ns[e>>3&7],hs=ue(),(3&s)<(3&a)?(s=-4&s|3&a,e>>6==3?I(c,s):p(s),hs|=64):hs&=-65,_s=hs>>6&1^1,bs=24}();break s;case 214:case 241:ge(6);break;case 15:switch(ps=Rs[Ws++]){case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:ws=Rs[Ws]|Rs[Ws+1]<<8|Rs[Ws+2]<<16|Rs[Ws+3]<<24,Ws+=4,be(15&ps)&&(Ws=Ws+ws>>0);break s;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:ds=Rs[Ws++],ws=be(15&ps),ds>>6==3?D(7&ds,ws):(os=T(ds),d(ws));break s;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:ds=Rs[Ws++],ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=o()),be(15&ps)&&(ns[ds>>3&7]=ws);break s;case 182:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)&255):(os=T(ds),ws=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts]),ns[gs]=ws;break s;case 183:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?ws=65535&ns[7&ds]:(os=T(ds),ws=r()),ns[gs]=ws;break s;case 190:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=-1==(Ts=Os[os>>>12])?a():Rs[os^Ts]),ns[gs]=ws<<24>>24;break s;case 191:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),ns[gs]=ws<<16>>16;break s;case 0:switch(1&is.cr0&&!(131072&is.eflags)||ge(6),ds=Rs[Ws++],ms=ds>>3&7){case 0:case 1:ws=0==ms?is.ldt.selector:is.tr.selector,ds>>6==3?I(7&ds,ws):(os=T(ds),p(ws));break;case 2:case 3:0!=is.cpl&&ge(13),ds>>6==3?ws=65535&ns[7&ds]:(os=T(ds),ws=r()),2==ms?function(e){var s,a,c,t,r;e&=65535,0==(65532&e)?(is.ldt.base=0,is.ldt.limit=0):(4&e&&pe(13,65532&e),s=is.gdt,t=-8&e,r=7,t+r>s.limit&&pe(13,65532&e),os=s.base+t&-1,a=x(),os+=4,c=x(),(4096&c||2!=(c>>8&15))&&pe(13,65532&e),32768&c||pe(11,65532&e),De(is.ldt,a,c)),is.ldt.selector=e}(ws):function(e){var s,a,c,t,r,i;e&=65535,0==(65532&e)?(is.tr.base=0,is.tr.limit=0,is.tr.flags=0):(4&e&&pe(13,65532&e),s=is.gdt,t=-8&e,i=7,t+i>s.limit&&pe(13,65532&e),os=s.base+t&-1,a=x(),os+=4,c=x(),r=c>>8&15,(4096&c||1!=r&&9!=r)&&pe(13,65532&e),32768&c||pe(11,65532&e),De(is.tr,a,c),c|=512,X(c)),is.tr.selector=e}(ws);break;case 4:case 5:ds>>6==3?ws=65535&ns[7&ds]:(os=T(ds),ws=r()),function(e,s){var a;a=cs(e,s),hs=ue(),a?hs|=64:hs&=-65,_s=hs>>6&1^1,bs=24}(ws,1&ms);break;default:ge(6)}break s;case 1:switch(ds=Rs[Ws++],ms=ds>>3&7){case 2:case 3:ds>>6==3&&ge(6),0!=this.cpl&&ge(13),os=T(ds),ws=r(),os+=2,vs=o(),2==ms?(this.gdt.base=vs,this.gdt.limit=ws):(this.idt.base=vs,this.idt.limit=ws);break;case 7:0!=this.cpl&&ge(13),ds>>6==3&&ge(6),os=T(ds),is.tlb_flush_page(-4096&os);break;default:ge(6)}break s;case 2:case 3:!function(e,s){var a,c,t,i;1&is.cr0&&!(131072&is.eflags)||ge(6),c=Rs[Ws++],t=c>>3&7,c>>6==3?i=65535&ns[7&c]:(os=T(c),i=r()),a=as(i,s),hs=ue(),null===a?hs&=-65:(hs|=64,e?ns[t]=a:I(t,a)),_s=hs>>6&1^1,bs=24}(ls>>8&1^1,1&ps);break s;case 32:switch(0!=is.cpl&&ge(13),ds=Rs[Ws++],ds>>6!=3&&ge(6),gs=ds>>3&7){case 0:ws=is.cr0;break;case 2:ws=is.cr2;break;case 3:ws=is.cr3;break;case 4:ws=is.cr4;break;default:ge(6)}ns[7&ds]=ws;break s;case 34:switch(0!=is.cpl&&ge(13),ds=Rs[Ws++],ds>>6!=3&&ge(6),gs=ds>>3&7,ws=ns[7&ds],gs){case 0:Ue(ws);break;case 2:is.cr2=ws;break;case 3:!function(e){is.cr3=e,is.cr0&1<<31&&is.tlb_flush_all()}(ws);break;case 4:!function(e){is.cr4=e}(ws);break;default:ge(6)}break s;case 6:0!=is.cpl&&ge(13),Ue(-9&is.cr0);break s;case 35:0!=is.cpl&&ge(13),ds=Rs[Ws++],ds>>6!=3&&ge(6),gs=ds>>3&7,ws=ns[7&ds],4!=gs&&5!=gs||ge(6);break s;case 178:case 180:case 181:ts(7&ps);break s;case 162:!function(){switch(ns[0]){case 0:ns[0]=1,ns[3]=1970169159,ns[2]=1231384169,ns[1]=1818588270;break;case 1:default:ns[0]=1347,ns[3]=2048,ns[1]=0,ns[2]=16}}();break s;case 164:ds=Rs[Ws++],vs=ns[ds>>3&7],ds>>6==3?(ys=Rs[Ws++],ks=7&ds,ns[ks]=J(ns[ks],vs,ys)):(os=T(ds),ys=Rs[Ws++],ws=u(),ws=J(ws,vs,ys),w(ws));break s;case 165:ds=Rs[Ws++],vs=ns[ds>>3&7],ys=ns[1],ds>>6==3?(ks=7&ds,ns[ks]=J(ns[ks],vs,ys)):(os=T(ds),ws=u(),ws=J(ws,vs,ys),w(ws));break s;case 172:ds=Rs[Ws++],vs=ns[ds>>3&7],ds>>6==3?(ys=Rs[Ws++],ks=7&ds,ns[ks]=K(ns[ks],vs,ys)):(os=T(ds),ys=Rs[Ws++],ws=u(),ws=K(ws,vs,ys),w(ws));break s;case 173:ds=Rs[Ws++],vs=ns[ds>>3&7],ys=ns[1],ds>>6==3?(ks=7&ds,ns[ks]=K(ns[ks],vs,ys)):(os=T(ds),ws=u(),ws=K(ws,vs,ys),w(ws));break s;case 186:switch(ds=Rs[Ws++],ms=ds>>3&7){case 4:ds>>6==3?(ws=ns[7&ds],vs=Rs[Ws++]):(os=T(ds),vs=Rs[Ws++],ws=o()),V(ws,vs);break;case 5:case 6:case 7:ds>>6==3?(ks=7&ds,vs=Rs[Ws++],ns[ks]=$(3&ms,ns[ks],vs)):(os=T(ds),vs=Rs[Ws++],ws=u(),ws=$(3&ms,ws,vs),w(ws));break;default:ge(6)}break s;case 163:ds=Rs[Ws++],vs=ns[ds>>3&7],ds>>6==3?ws=ns[7&ds]:(os=T(ds),os=os+(vs>>5<<2)>>0,ws=o()),V(ws,vs);break s;case 171:case 179:case 187:ds=Rs[Ws++],vs=ns[ds>>3&7],ms=ps>>3&3,ds>>6==3?(ks=7&ds,ns[ks]=$(ms,ns[ks],vs)):(os=T(ds),os=os+(vs>>5<<2)>>0,ws=u(),ws=$(ms,ws,vs),w(ws));break s;case 188:case 189:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),ns[gs]=1&ps?function(e,s){if(s){for(e=31;s>=0;)e--,s<<=1;_s=1}else _s=0;return bs=14,e}(ns[gs],vs):function(e,s){if(s){for(e=0;0==(1&s);)e++,s>>=1;_s=1}else _s=0;return bs=14,e}(ns[gs],vs);break s;case 175:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=o()),ns[gs]=ce(ns[gs],vs);break s;case 49:4&is.cr4&&0!=is.cpl&&ge(13),ws=function(){return is.cycle_count+(e-qs)}(),ns[0]=ws>>>0,ns[2]=ws/4294967296>>>0;break s;case 192:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1),vs=B(0,ws,ns[3&gs]>>((4&gs)<<1)),D(gs,ws),D(ks,vs)):(os=T(ds),ws=h(),vs=B(0,ws,ns[3&gs]>>((4&gs)<<1)),d(vs),D(gs,ws));break s;case 193:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[ks],vs=L(0,ws,ns[gs]),ns[gs]=ws,ns[ks]=vs):(os=T(ds),ws=u(),vs=L(0,ws,ns[gs]),w(vs),ns[gs]=ws);break s;case 176:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1),vs=B(5,ns[0],ws),0==vs?D(ks,ns[3&gs]>>((4&gs)<<1)):D(0,ws)):(os=T(ds),ws=h(),vs=B(5,ns[0],ws),0==vs?d(ns[3&gs]>>((4&gs)<<1)):D(0,ws));break s;case 177:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[ks],vs=L(5,ns[0],ws),0==vs?ns[ks]=ns[gs]:ns[0]=ws):(os=T(ds),ws=u(),vs=L(5,ns[0],ws),0==vs?w(ns[gs]):ns[0]=ws);break s;case 160:case 168:me(is.segs[ps>>3&7].selector);break s;case 161:case 169:je(ps>>3&7,65535&xe()),Ee();break s;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:gs=7&ps,ws=ns[gs],ws=ws>>>24|ws>>8&65280|ws<<8&16711680|ws<<24,ns[gs]=ws;break s;case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 33:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 58:case 59:case 60:case 61:case 62:case 63:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:case 166:case 167:case 170:case 174:case 184:case 185:case 194:case 195:case 196:case 197:case 198:case 199:case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:default:ge(6)}break;default:switch(ps){case 393:ds=Rs[Ws++],ws=ns[ds>>3&7],ds>>6==3?I(7&ds,ws):(os=T(ds),p(ws));break s;case 395:ds=Rs[Ws++],ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),I(ds>>3&7,ws);break s;case 440:case 441:case 442:case 443:case 444:case 445:case 446:case 447:I(7&ps,R());break s;case 417:os=N(),ws=r(),I(0,ws);break s;case 419:os=N(),p(ns[0]);break s;case 455:ds=Rs[Ws++],ds>>6==3?(ws=R(),I(7&ds,ws)):(os=T(ds),ws=R(),p(ws));break s;case 401:case 402:case 403:case 404:case 405:case 406:case 407:gs=7&ps,ws=ns[0],I(0,ns[gs]),I(gs,ws);break s;case 391:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[ks],I(ks,ns[gs])):(os=T(ds),ws=b(),p(ns[gs])),I(gs,ws);break s;case 452:rs(0);break s;case 453:rs(3);break s;case 257:case 265:case 273:case 281:case 289:case 297:case 305:case 313:ds=Rs[Ws++],ms=ps>>3&7,vs=ns[ds>>3&7],ds>>6==3?(ks=7&ds,I(ks,M(ms,ns[ks],vs))):(os=T(ds),7!=ms?(ws=b(),ws=M(ms,ws,vs),p(ws)):(ws=r(),M(7,ws,vs)));break s;case 259:case 267:case 275:case 283:case 291:case 299:case 307:case 315:ds=Rs[Ws++],ms=ps>>3&7,gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=r()),I(gs,M(ms,ns[gs],vs));break s;case 261:case 269:case 277:case 285:case 293:case 301:case 309:case 317:vs=R(),ms=ps>>3&7,I(0,M(ms,ns[0],vs));break s;case 385:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(ks=7&ds,vs=R(),ns[ks]=M(ms,ns[ks],vs)):(os=T(ds),vs=R(),7!=ms?(ws=b(),ws=M(ms,ws,vs),p(ws)):(ws=r(),M(7,ws,vs)));break s;case 387:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(ks=7&ds,vs=Rs[Ws++]<<24>>24,I(ks,M(ms,ns[ks],vs))):(os=T(ds),vs=Rs[Ws++]<<24>>24,7!=ms?(ws=b(),ws=M(ms,ws,vs),p(ws)):(ws=r(),M(7,ws,vs)));break s;case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:gs=7&ps,I(gs,z(ns[gs]));break s;case 328:case 329:case 330:case 331:case 332:case 333:case 334:case 335:gs=7&ps,I(gs,O(ns[gs]));break s;case 363:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=r()),ys=Rs[Ws++]<<24>>24,I(gs,se(vs,ys));break s;case 361:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=r()),ys=R(),I(gs,se(vs,ys));break s;case 389:ds=Rs[Ws++],ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),vs=ns[ds>>3&7],_s=(ws&vs)<<16>>16,bs=13;break s;case 425:vs=R(),_s=(ns[0]&vs)<<16>>16,bs=13;break s;case 503:switch(ds=Rs[Ws++],ms=ds>>3&7){case 0:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),vs=R(),_s=(ws&vs)<<16>>16,bs=13;break;case 2:ds>>6==3?(ks=7&ds,I(ks,~ns[ks])):(os=T(ds),ws=b(),ws=~ws,p(ws));break;case 3:ds>>6==3?(ks=7&ds,I(ks,M(5,0,ns[ks]))):(os=T(ds),ws=b(),ws=M(5,0,ws),p(ws));break;case 4:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),ws=function(e,s){var a;return a=(65535&e)*(65535&s)>>0,hs=a>>>16,_s=a<<16>>16,bs=22,a}(ns[0],ws),I(0,ws),I(2,ws>>16);break;case 5:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),ws=se(ns[0],ws),I(0,ws),I(2,ws>>16);break;case 6:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),function(e){var s,a,c;s=ns[2]<<16|65535&ns[0],e&=65535,s>>>16>=e&&ge(0),a=s/e>>0,c=s%e,I(0,a),I(2,c)}(ws);break;case 7:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),function(e){var s,a,c;s=ns[2]<<16|65535&ns[0],e=e<<16>>16,0==e&&ge(0),a=s/e>>0,a<<16>>16!=a&&ge(0),c=s%e,I(0,a),I(2,c)}(ws);break;default:ge(6)}break s;case 449:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(vs=Rs[Ws++],ks=7&ds,I(ks,j(ms,ns[ks],vs))):(os=T(ds),vs=Rs[Ws++],ws=b(),ws=j(ms,ws,vs),p(ws));break s;case 465:ds=Rs[Ws++],ms=ds>>3&7,ds>>6==3?(ks=7&ds,I(ks,j(ms,ns[ks],1))):(os=T(ds),ws=b(),ws=j(ms,ws,1),p(ws));break s;case 467:ds=Rs[Ws++],ms=ds>>3&7,vs=255&ns[1],ds>>6==3?(ks=7&ds,I(ks,j(ms,ns[ks],vs))):(os=T(ds),ws=b(),ws=j(ms,ws,vs),p(ws));break s;case 408:I(0,ns[0]<<24>>24);break s;case 409:I(2,ns[0]<<16>>31);break s;case 400:break s;case 336:case 337:case 338:case 339:case 340:case 341:case 342:case 343:ye(ns[7&ps]);break s;case 344:case 345:case 346:case 347:case 348:case 349:case 350:case 351:ws=qe(),Ce(),I(7&ps,ws);break s;case 352:!function(){var e,s,a;for(s=ns[4]-16>>0,os=(s&As)+Ps>>0,a=7;a>=0;a--)e=ns[a],p(e),os=os+2>>0;ns[4]=ns[4]&~As|s&As}();break s;case 353:!function(){var e;for(os=(ns[4]&As)+Ps>>0,e=7;e>=0;e--)4!=e&&I(e,r()),os=os+2>>0;ns[4]=ns[4]&~As|ns[4]+16&As}();break s;case 399:ds=Rs[Ws++],ds>>6==3?(ws=qe(),Ce(),I(7&ds,ws)):(ws=qe(),vs=ns[4],Ce(),ys=ns[4],os=T(ds),ns[4]=vs,p(ws),ns[4]=ys);break s;case 360:ws=R(),ye(ws);break s;case 362:ws=Rs[Ws++]<<24>>24,ye(ws);break s;case 456:!function(){var e,s,a,c,t,i;if(e=R(),s=Rs[Ws++],s&=31,a=ns[4],c=ns[5],a=a-2>>0,os=(a&As)+Ps>>0,p(c),i=a,0!=s){for(;s>1;)c=c-2>>0,os=(c&As)+Ps>>0,t=r(),a=a-2>>0,os=(a&As)+Ps>>0,p(t),s--;a=a-2>>0,os=(a&As)+Ps>>0,p(i)}a=a-e>>0,os=(a&As)+Ps>>0,b(),ns[5]=ns[5]&~As|i&As,ns[4]=a}();break s;case 457:!function(){var e,s;s=ns[5],os=(s&As)+Ps>>0,e=r(),I(5,e),ns[4]=ns[4]&~As|s+2&As}();break s;case 262:case 270:case 278:case 286:ye(is.segs[ps>>3&3].selector);break s;case 263:case 279:case 287:je(ps>>3&3,qe()),Ce();break s;case 397:ds=Rs[Ws++],ds>>6==3&&ge(6),ls=-16&ls|7,I(ds>>3&7,T(ds));break s;case 511:switch(ds=Rs[Ws++],ms=ds>>3&7){case 0:ds>>6==3?(ks=7&ds,I(ks,z(ns[ks]))):(os=T(ds),ws=b(),ws=z(ws),p(ws));break;case 1:ds>>6==3?(ks=7&ds,I(ks,O(ns[ks]))):(os=T(ds),ws=b(),ws=O(ws),p(ws));break;case 2:ds>>6==3?ws=65535&ns[7&ds]:(os=T(ds),ws=r()),ye(Fs+Ws-js),Fs=ws,Ws=js=0;break;case 4:ds>>6==3?ws=65535&ns[7&ds]:(os=T(ds),ws=r()),Fs=ws,Ws=js=0;break;case 6:ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),ye(ws);break;case 3:case 5:ds>>6==3&&ge(6),os=T(ds),ws=r(),os=os+2>>0,vs=r(),3==ms?Ze(0,vs,ws,Fs+Ws-js):Je(vs,ws);break;default:ge(6)}break s;case 491:ws=Rs[Ws++]<<24>>24,Fs=Fs+Ws-js+ws&65535,Ws=js=0;break s;case 489:ws=R(),Fs=Fs+Ws-js+ws&65535,Ws=js=0;break s;case 368:case 369:case 370:case 371:case 372:case 373:case 374:case 375:case 376:case 377:case 378:case 379:case 380:case 381:case 382:case 383:ws=Rs[Ws++]<<24>>24,vs=be(15&ps),vs&&(Fs=Fs+Ws-js+ws&65535,Ws=js=0);break s;case 450:vs=R()<<16>>16,ws=qe(),ns[4]=ns[4]&~As|ns[4]+2+vs&As,Fs=ws,Ws=js=0;break s;case 451:ws=qe(),Ce(),Fs=ws,Ws=js=0;break s;case 488:ws=R(),ye(Fs+Ws-js),Fs=Fs+Ws-js+ws&65535,Ws=js=0;break s;case 354:!function(){var e,s,a,c;e=Rs[Ws++],e>>3==3&&ge(6),os=T(e),s=r()<<16>>16,os=os+2&-1,a=r()<<16>>16,gs=e>>3&7,((c=ns[gs]<<16>>16)<s||c>a)&&ge(5)}();break s;case 421:!function(){var e,s,a,c,t,i;if(e=128&ls?65535:-1,t=15&ls,0==t?t=3:t--,a=ns[6],s=ns[7],os=(a&e)+is.segs[t].base>>0,i=(s&e)+is.segs[0].base>>0,48&ls){if(0==((c=ns[1])&e))return;ws=r(),os=i,p(ws),ns[6]=a&~e|a+(is.df<<1)&e,ns[7]=s&~e|s+(is.df<<1)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else ws=r(),os=i,p(ws),ns[6]=a&~e|a+(is.df<<1)&e,ns[7]=s&~e|s+(is.df<<1)&e}();break s;case 423:!function(){var e,s,a,c,t,i;if(e=128&ls?65535:-1,t=15&ls,0==t?t=3:t--,a=ns[6],s=ns[7],os=(a&e)+is.segs[t].base>>0,i=(s&e)+is.segs[0].base>>0,48&ls){if(0==((c=ns[1])&e))return;if(ws=r(),os=i,vs=r(),M(7,ws,vs),ns[6]=a&~e|a+(is.df<<1)&e,ns[7]=s&~e|s+(is.df<<1)&e,ns[1]=c=c&~e|c-1&e,16&ls){if(0!=_s)return}else if(0==_s)return;c&e&&(Ws=js)}else ws=r(),os=i,vs=r(),M(7,ws,vs),ns[6]=a&~e|a+(is.df<<1)&e,ns[7]=s&~e|s+(is.df<<1)&e}();break s;case 429:!function(){var e,s,a,c,t;if(e=128&ls?65535:-1,a=15&ls,0==a?a=3:a--,s=ns[6],os=(s&e)+is.segs[a].base>>0,48&ls){if(0==((c=ns[1])&e))return;t=r(),ns[0]=-65536&ns[0]|t,ns[6]=s&~e|s+(is.df<<1)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else t=r(),ns[0]=-65536&ns[0]|t,ns[6]=s&~e|s+(is.df<<1)&e}();break s;case 431:!function(){var e,s,a,c;if(e=128&ls?65535:-1,s=ns[7],os=(s&e)+is.segs[0].base>>0,48&ls){if(0==((a=ns[1])&e))return;if(c=r(),M(7,ns[0],c),ns[7]=s&~e|s+(is.df<<1)&e,ns[1]=a=a&~e|a-1&e,16&ls){if(0!=_s)return}else if(0==_s)return;a&e&&(Ws=js)}else c=r(),M(7,ns[0],c),ns[7]=s&~e|s+(is.df<<1)&e}();break s;case 427:!function(){var e,s,a;if(e=128&ls?65535:-1,s=ns[7],os=(s&e)+is.segs[0].base>>0,48&ls){if(0==((a=ns[1])&e))return;p(ns[0]),ns[7]=s&~e|s+(is.df<<1)&e,ns[1]=a=a&~e|a-1&e,a&e&&(Ws=js)}else p(ns[0]),ns[7]=s&~e|s+(is.df<<1)&e}();break s;case 365:if(function(){var e,s,a,c,t,r;if(t=is.eflags>>12&3,is.cpl>t&&ge(13),e=128&ls?65535:-1,s=ns[7],a=65535&ns[2],48&ls){if(0==((c=ns[1])&e))return;r=is.ld16_port(a),os=(s&e)+is.segs[0].base>>0,p(r),ns[7]=s&~e|s+(is.df<<1)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else r=is.ld16_port(a),os=(s&e)+is.segs[0].base>>0,p(r),ns[7]=s&~e|s+(is.df<<1)&e}(),0!=is.hard_irq&&512&is.eflags)break e;break s;case 367:if(function(){var e,s,a,c,t,i,o;if(i=is.eflags>>12&3,is.cpl>i&&ge(13),e=128&ls?65535:-1,a=15&ls,0==a?a=3:a--,s=ns[6],t=65535&ns[2],48&ls){if(0==((c=ns[1])&e))return;os=(s&e)+is.segs[a].base>>0,o=r(),is.st16_port(t,o),ns[6]=s&~e|s+(is.df<<1)&e,ns[1]=c=c&~e|c-1&e,c&e&&(Ws=js)}else os=(s&e)+is.segs[a].base>>0,o=r(),is.st16_port(t,o),ns[6]=s&~e|s+(is.df<<1)&e}(),0!=is.hard_irq&&512&is.eflags)break e;break s;case 485:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ws=Rs[Ws++],I(0,is.ld16_port(ws)),0!=is.hard_irq&&512&is.eflags)break e;break s;case 487:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),ws=Rs[Ws++],is.st16_port(ws,65535&ns[0]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 493:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),I(0,is.ld16_port(65535&ns[2])),0!=is.hard_irq&&512&is.eflags)break e;break s;case 495:if(Xs=is.eflags>>12&3,is.cpl>Xs&&ge(13),is.st16_port(65535&ns[2],65535&ns[0]),0!=is.hard_irq&&512&is.eflags)break e;break s;case 358:case 359:case 496:case 498:case 499:case 294:case 302:case 310:case 318:case 356:case 357:case 256:case 264:case 272:case 280:case 288:case 296:case 304:case 312:case 258:case 266:case 274:case 282:case 290:case 298:case 306:case 314:case 260:case 268:case 276:case 284:case 292:case 300:case 308:case 316:case 416:case 418:case 472:case 473:case 474:case 475:case 476:case 477:case 478:case 479:case 388:case 424:case 502:case 448:case 464:case 466:case 510:case 461:case 462:case 501:case 504:case 505:case 508:case 509:case 506:case 507:case 414:case 415:case 500:case 295:case 303:case 311:case 319:case 468:case 469:case 364:case 366:case 420:case 422:case 426:case 428:case 430:case 384:case 386:case 390:case 392:case 394:case 396:case 398:case 411:case 432:case 433:case 434:case 435:case 436:case 437:case 438:case 439:case 454:case 460:case 471:case 484:case 486:case 492:case 494:case 463:case 458:case 459:case 410:case 412:case 413:case 490:case 480:case 481:case 482:case 483:ps&=255;break;case 355:case 470:case 497:default:ge(6);case 271:switch(ps=Rs[Ws++],ps|=256){case 384:case 385:case 386:case 387:case 388:case 389:case 390:case 391:case 392:case 393:case 394:case 395:case 396:case 397:case 398:case 399:ws=R(),be(15&ps)&&(Fs=Fs+Ws-js+ws&65535,Ws=js=0);break s;case 320:case 321:case 322:case 323:case 324:case 325:case 326:case 327:case 328:case 329:case 330:case 331:case 332:case 333:case 334:case 335:ds=Rs[Ws++],ds>>6==3?ws=ns[7&ds]:(os=T(ds),ws=r()),be(15&ps)&&I(ds>>3&7,ws);break s;case 438:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)&255):(os=T(ds),ws=c()),I(gs,ws);break s;case 446:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[3&ks]>>((4&ks)<<1)):(os=T(ds),ws=c()),I(gs,ws<<24>>24);break s;case 431:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=r()),I(gs,se(ns[gs],vs));break s;case 449:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[ks],vs=M(0,ws,ns[gs]),I(gs,ws),I(ks,vs)):(os=T(ds),ws=b(),vs=M(0,ws,ns[gs]),p(vs),I(gs,ws));break s;case 416:case 424:ye(is.segs[ps>>3&7].selector);break s;case 417:case 425:je(ps>>3&7,qe()),Ce();break s;case 434:case 436:case 437:rs(7&ps);break s;case 420:case 428:ds=Rs[Ws++],vs=ns[ds>>3&7],ms=ps>>3&1,ds>>6==3?(ys=Rs[Ws++],ks=7&ds,I(ks,H(ms,ns[ks],vs,ys))):(os=T(ds),ys=Rs[Ws++],ws=b(),ws=H(ms,ws,vs,ys),p(ws));break s;case 421:case 429:ds=Rs[Ws++],vs=ns[ds>>3&7],ys=ns[1],ms=ps>>3&1,ds>>6==3?(ks=7&ds,I(ks,H(ms,ns[ks],vs,ys))):(os=T(ds),ws=b(),ws=H(ms,ws,vs,ys),p(ws));break s;case 442:switch(ds=Rs[Ws++],ms=ds>>3&7){case 4:ds>>6==3?(ws=ns[7&ds],vs=Rs[Ws++]):(os=T(ds),vs=Rs[Ws++],ws=r()),Q(ws,vs);break;case 5:case 6:case 7:ds>>6==3?(ks=7&ds,vs=Rs[Ws++],ns[ks]=Z(3&ms,ns[ks],vs)):(os=T(ds),vs=Rs[Ws++],ws=b(),ws=Z(3&ms,ws,vs),p(ws));break;default:ge(6)}break s;case 419:ds=Rs[Ws++],vs=ns[ds>>3&7],ds>>6==3?ws=ns[7&ds]:(os=T(ds),os=os+((65535&vs)>>4<<1)>>0,ws=r()),Q(ws,vs);break s;case 427:case 435:case 443:ds=Rs[Ws++],vs=ns[ds>>3&7],ms=ps>>3&3,ds>>6==3?(ks=7&ds,I(ks,Z(ms,ns[ks],vs))):(os=T(ds),os=os+((65535&vs)>>4<<1)>>0,ws=b(),ws=Z(ms,ws,vs),p(ws));break s;case 444:case 445:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?vs=ns[7&ds]:(os=T(ds),vs=r()),ws=ns[gs],ws=1&ps?function(e,s){if(s&=65535){for(e=15;0==(32768&s);)e--,s<<=1;_s=1}else _s=0;return bs=14,e}(ws,vs):function(e,s){if(s&=65535){for(e=0;0==(1&s);)e++,s>>=1;_s=1}else _s=0;return bs=14,e}(ws,vs),I(gs,ws);break s;case 433:ds=Rs[Ws++],gs=ds>>3&7,ds>>6==3?(ks=7&ds,ws=ns[ks],vs=M(5,ns[0],ws),0==vs?I(ks,ns[gs]):I(0,ws)):(os=T(ds),ws=b(),vs=M(5,ns[0],ws),0==vs?p(ns[gs]):I(0,ws));break s;case 256:case 257:case 258:case 259:case 288:case 290:case 262:case 291:case 418:case 305:case 400:case 401:case 402:case 403:case 404:case 405:case 406:case 407:case 408:case 409:case 410:case 411:case 412:case 413:case 414:case 415:case 432:ps=15,Ws--;break;case 260:case 261:case 263:case 264:case 265:case 266:case 267:case 268:case 269:case 270:case 271:case 272:case 273:case 274:case 275:case 276:case 277:case 278:case 279:case 280:case 281:case 282:case 283:case 284:case 285:case 286:case 287:case 289:case 292:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 300:case 301:case 302:case 303:case 304:case 306:case 307:case 308:case 309:case 310:case 311:case 312:case 313:case 314:case 315:case 316:case 317:case 318:case 319:case 336:case 337:case 338:case 339:case 340:case 341:case 342:case 343:case 344:case 345:case 346:case 347:case 348:case 349:case 350:case 351:case 352:case 353:case 354:case 355:case 356:case 357:case 358:case 359:case 360:case 361:case 362:case 363:case 364:case 365:case 366:case 367:case 368:case 369:case 370:case 371:case 372:case 373:case 374:case 375:case 376:case 377:case 378:case 379:case 380:case 381:case 382:case 383:case 422:case 423:case 426:case 430:case 439:case 440:case 441:case 447:case 448:default:ge(6)}}}}while(--qs);return this.cycle_count+=e-qs,this.eip=Fs+Ws-js,this.cc_src=hs,this.cc_dst=_s,this.cc_op=bs,this.cc_op2=fs,this.cc_dst2=us,Cs},CPU_X86.prototype.exec=function(e){var s,a,c;for(a=this.cycle_count+e,s=256,c=null;this.cycle_count<a;)try{if(256!=(s=this.exec_internal(a-this.cycle_count,c)))break;c=null}catch(e){if(!e.hasOwnProperty("intno"))throw e;c=e}return s},CPU_X86.prototype.load_binary=function(e,s,a){var c,t;t=this,c=function(e,c){var r;if(c<0)a(c);else{if("string"==typeof e)for(r=0;r<c;r++)t.st8_phys(s+r,e.charCodeAt(r));else for(r=0;r<c;r++)t.st8_phys(s+r,e[r]);a(c)}},load_binary(e,c)},Ng.prototype.ioport_write=function(e,s){112==e&&(this.cmos_index=127&s)},Ng.prototype.ioport_read=function(e){var s;return 112==e?255:(s=this.cmos_data[this.cmos_index],10==this.cmos_index?this.cmos_data[10]^=128:12==this.cmos_index&&(this.cmos_data[12]=0),s)},Rg.prototype.reset=function(){this.last_irr=0,this.irr=0,this.imr=0,this.isr=0,this.priority_add=0,this.irq_base=0,this.read_reg_select=0,this.special_mask=0,this.init_state=0,this.auto_eoi=0,this.rotate_on_autoeoi=0,this.init4=0,this.elcr=0,this.elcr_mask=0},Rg.prototype.set_irq1=function(e,s){var a;a=1<<e,s?(0==(this.last_irr&a)&&(this.irr|=a),this.last_irr|=a):this.last_irr&=~a},Rg.prototype.get_priority=function(e){var s;if(0==e)return-1;for(s=7;0==(e&1<<(s+this.priority_add&7));)s--;return s},Rg.prototype.get_irq=function(){var e,s,a;return e=this.irr&~this.imr,(a=this.get_priority(e))<0?-1:(s=this.get_priority(this.isr),a>s?a:-1)},Rg.prototype.intack=function(e){this.auto_eoi?this.rotate_on_auto_eoi&&(this.priority_add=e+1&7):this.isr|=1<<e,this.elcr&1<<e||(this.irr&=~(1<<e))},Rg.prototype.ioport_write=function(e,s){var a;if(0==(e&=1))if(16&s){if(this.reset(),this.init_state=1,this.init4=1&s,2&s)throw"single mode not supported";if(8&s)throw"level sensitive irq not supported"}else if(8&s)2&s&&(this.read_reg_select=1&s),64&s&&(this.special_mask=s>>5&1);else switch(s){case 0:case 128:this.rotate_on_autoeoi=s>>7;break;case 32:case 160:a=this.get_priority(this.isr),a>=0&&(this.isr&=~(1<<(a+this.priority_add&7))),160==s&&(this.priority_add=this.priority_add+1&7);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:a=7&s,this.isr&=~(1<<a);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:this.priority_add=s+1&7;break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:a=7&s,this.isr&=~(1<<a),this.priority_add=a+1&7}else switch(this.init_state){case 0:this.imr=s,this.update_irq();break;case 1:this.irq_base=248&s,this.init_state=2;break;case 2:this.init4?this.init_state=3:this.init_state=0;break;case 3:this.auto_eoi=s>>1&1,this.init_state=0}},Rg.prototype.ioport_read=function(e){var s;return s=1&e,0==s?this.read_reg_select?this.isr:this.irr:this.imr},Wg.prototype.update_irq=function(){var e,s;e=this.pics[1].get_irq(),e>=0&&(this.pics[0].set_irq1(2,1),this.pics[0].set_irq1(2,0)),s=this.pics[0].get_irq(),s>=0?this.cpu_set_irq(1):this.cpu_set_irq(0)},Wg.prototype.set_irq=function(e,s){this.pics[e>>3].set_irq1(7&e,s),this.update_irq()},Wg.prototype.get_hard_intno=function(){var e,s,a;return e=this.pics[0].get_irq(),e>=0?(this.pics[0].intack(e),2==e?(s=this.pics[1].get_irq(),s>=0?this.pics[1].intack(s):s=7,a=this.pics[1].irq_base+s,e=s+8):a=this.pics[0].irq_base+e):(e=7,a=this.pics[0].irq_base+e),this.update_irq(),a},dh.prototype.get_time=function(){return Math.floor(this.get_ticks()*this.pit_time_unit)},dh.prototype.pit_get_count=function(){var e,s;switch(e=this.get_time()-this.count_load_time,this.mode){case 0:case 1:case 4:case 5:s=this.count-e&65535;break;default:s=this.count-e%this.count}return s},dh.prototype.pit_get_out=function(){var e,s;switch(e=this.get_time()-this.count_load_time,this.mode){default:case 0:s=(e>=this.count)>>0;break;case 1:s=(e<this.count)>>0;break;case 2:s=e%this.count==0&&0!=e?1:0;break;case 3:s=(e%this.count<this.count>>1)>>0;break;case 4:case 5:s=(e==this.count)>>0}return s},dh.prototype.get_next_transition_time=function(){var e,s,a,c;switch(e=this.get_time()-this.count_load_time,this.mode){default:case 0:case 1:if(!(e<this.count))return-1;s=this.count;break;case 2:a=e/this.count*this.count,s=e-a==0&&0!=e?a+this.count:a+this.count+1;break;case 3:a=e/this.count*this.count,c=this.count+1>>1,s=e-a<c?a+c:a+this.count;break;case 4:case 5:if(e<this.count)s=this.count;else{if(e!=this.count)return-1;s=this.count+1}}return s=this.count_load_time+s},dh.prototype.pit_load_count=function(e){0==e&&(e=65536),this.count_load_time=this.get_time(),this.count=e},ah.prototype.ioport_write=function(e,s){var a,c,t;if(3==(e&=3)){if(3==(a=s>>6))return;switch(t=this.pit_channels[a],c=s>>4&3){case 0:t.latched_count=t.pit_get_count(),t.rw_state=4;break;default:t.mode=s>>1&7,t.bcd=1&s,t.rw_state=c-1+0}}else switch(t=this.pit_channels[e],t.rw_state){case 0:t.pit_load_count(s);break;case 1:t.pit_load_count(s<<8);break;case 2:case 3:1&t.rw_state?t.pit_load_count(255&t.latched_count|s<<8):t.latched_count=s,t.rw_state^=1}},ah.prototype.ioport_read=function(e){var s,a,c;switch(e&=3,c=this.pit_channels[e],c.rw_state){case 0:case 1:case 2:case 3:a=c.pit_get_count(),s=1&c.rw_state?a>>8&255:255&a,2&c.rw_state&&(c.rw_state^=1);break;default:case 4:case 5:s=1&c.rw_state?c.latched_count>>8:255&c.latched_count,c.rw_state^=1}return s},ah.prototype.speaker_ioport_write=function(e,s){this.speaker_data_on=s>>1&1,this.pit_channels[2].gate=1&s},ah.prototype.speaker_ioport_read=function(e){var s,a;return a=this.pit_channels[2],s=a.pit_get_out(),this.speaker_data_on<<1|a.gate|s<<5},ah.prototype.update_irq=function(){this.set_irq(1),this.set_irq(0)},kh.prototype.update_irq=function(){1&this.lsr&&1&this.ier?this.iir=4:32&this.lsr&&2&this.ier?this.iir=2:this.iir=1,1!=this.iir?this.set_irq_func(1):this.set_irq_func(0)},kh.prototype.write_tx_fifo=function(){""!=this.tx_fifo&&(this.write_func(this.tx_fifo),this.tx_fifo="",this.lsr|=32,this.lsr|=64,this.update_irq())},kh.prototype.ioport_write=function(e,s){switch(e&=7){default:case 0:128&this.lcr?this.divider=65280&this.divider|s:1&this.fcr?(this.tx_fifo+=String.fromCharCode(s),this.lsr&=-33,this.update_irq(),this.tx_fifo.length>=16&&this.write_tx_fifo()):(this.lsr&=-33,this.update_irq(),this.write_func(String.fromCharCode(s)),this.lsr|=32,this.lsr|=64,this.update_irq());break;case 1:128&this.lcr?this.divider=255&this.divider|s<<8:(this.ier=s,this.update_irq());break;case 2:1&(this.fcr^s)&&(s|=6),4&s&&(this.tx_fifo=""),2&s&&(this.rx_fifo=""),this.fcr=1&s;break;case 3:this.lcr=s;break;case 4:this.mcr=s;break;case 5:break;case 6:this.msr=s;break;case 7:this.scr=s}},kh.prototype.ioport_read=function(e){var s;switch(e&=7){default:case 0:128&this.lcr?s=255&this.divider:(s=this.rbr,this.lsr&=-18,this.update_irq(),this.send_char_from_fifo());break;case 1:s=128&this.lcr?this.divider>>8&255:this.ier;break;case 2:s=this.iir,1&this.fcr&&(s|=192);break;case 3:s=this.lcr;break;case 4:s=this.mcr;break;case 5:s=this.lsr;break;case 6:s=this.msr;break;case 7:s=this.scr}return s},kh.prototype.send_break=function(){this.rbr=0,this.lsr|=17,this.update_irq()},kh.prototype.send_char=function(e){this.rbr=e,this.lsr|=1,this.update_irq()},kh.prototype.send_char_from_fifo=function(){var e;""==(e=this.rx_fifo)||1&this.lsr||(this.send_char(e.charCodeAt(0)),this.rx_fifo=e.substr(1,e.length-1))},kh.prototype.send_chars=function(e){this.rx_fifo+=e,this.send_char_from_fifo()},
ph.prototype.read_status=function(e){return 0},ph.prototype.write_command=function(e,s){switch(s){case 254:this.reset_request()}},rh.prototype.ioport_writeb=function(e,s){this.doc_str+=String.fromCharCode(s)},rh.prototype.ioport_readb=function(e){var s,a;return s=this.doc_str,a=this.cur_pos<s.length?255&s.charCodeAt(this.cur_pos):0,this.cur_pos++,a},rh.prototype.ioport_writel=function(e,s){var a;switch(e=e>>2&3){case 0:this.doc_str=this.doc_str.substr(0,s>>>0);break;case 1:return this.cur_pos=s>>>0;case 2:a=String.fromCharCode(255&s)+String.fromCharCode(s>>8&255)+String.fromCharCode(s>>16&255)+String.fromCharCode(s>>24&255),this.doc_str+=a;break;case 3:this.write_func(this.doc_str)}},rh.prototype.ioport_readl=function(e){var s;switch(e=e>>2&3){case 0:return this.doc_str=this.read_func(),this.doc_str.length>>0;case 1:return this.cur_pos>>0;case 2:return s=this.ioport_readb(0),s|=this.ioport_readb(0)<<8,s|=this.ioport_readb(0)<<16,s|=this.ioport_readb(0)<<24;case 3:return this.get_boot_time?this.get_boot_time()>>0:0}},uh.prototype.identify=function(){function e(e,a){s[2*e]=255&a,s[2*e+1]=a>>8&255}var s,a,c;for(s=this.io_buffer,a=0;a<512;a++)s[a]=0;e(0,64),e(1,this.cylinders),e(3,this.heads),e(4,512*this.sectors),e(5,512),e(6,this.sectors),e(20,3),e(21,512),e(22,4),function(e,a,c){var t,r;for(t=0;t<c;t++)r=t<a.length?255&a.charCodeAt(t):32,s[2*e+(1^t)]=r}(27,"JSLinux HARDDISK",40),e(47,32896),e(48,0),e(49,512),e(51,512),e(52,512),e(54,this.cylinders),e(55,this.heads),e(56,this.sectors),c=this.cylinders*this.heads*this.sectors,e(57,c),e(58,c>>16),this.mult_sectors&&e(59,256|this.mult_sectors),e(60,this.nb_sectors),e(61,this.nb_sectors>>16),e(80,6),e(82,16384),e(83,16384),e(84,16384),e(85,16384),e(86,0),e(87,16384)},uh.prototype.set_signature=function(){this.select&=240,this.nsector=1,this.sector=1,this.lcyl=0,this.hcyl=0},uh.prototype.abort_command=function(){this.status=65,this.error=4},uh.prototype.set_irq=function(){2&this.cmd||this.ide_if.set_irq_func(1)},uh.prototype.transfer_start=function(e,s){this.end_transfer_func=s,this.data_index=0,this.data_end=e},uh.prototype.transfer_stop=function(){this.end_transfer_func=this.transfer_stop.bind(this),this.data_index=0,this.data_end=0},uh.prototype.get_sector=function(){return 64&this.select?(15&this.select)<<24|this.hcyl<<16|this.lcyl<<8|this.sector:(this.hcyl<<8|this.lcyl)*this.heads*this.sectors+(15&this.select)*this.sectors+(this.sector-1)},uh.prototype.set_sector=function(e){var s,a;64&this.select?(this.select=240&this.select|e>>24&15,this.hcyl=e>>16&255,this.lcyl=e>>8&255,this.sector=255&e):(s=e/(this.heads*this.sectors),a=e%(this.heads*this.sectors),this.hcyl=s>>8&255,this.lcyl=255&s,this.select=240&this.select|a/this.sectors&15,this.sector=a%this.sectors+1)},uh.prototype.sector_read=function(){var e,s,a;e=this.get_sector(),s=this.nsector,0==s&&(s=256),s>this.req_nb_sectors&&(s=this.req_nb_sectors),this.io_nb_sectors=s,a=this.bs.read_async(e,this.io_buffer,s,this.sector_read_cb.bind(this)),a<0?(this.abort_command(),this.set_irq()):0==a?this.sector_read_cb():(this.status=208,this.error=0)},uh.prototype.sector_read_cb=function(){var e,s;e=this.io_nb_sectors,this.set_sector(this.get_sector()+e),this.nsector=this.nsector-e&255,s=0==this.nsector?this.sector_read_cb_end.bind(this):this.sector_read.bind(this),this.transfer_start(512*e,s),this.set_irq(),this.status=88,this.error=0},uh.prototype.sector_read_cb_end=function(){this.status=80,this.error=0,this.transfer_stop()},uh.prototype.sector_write_cb1=function(){var e,s;this.transfer_stop(),e=this.get_sector(),s=this.bs.write_async(e,this.io_buffer,this.io_nb_sectors,this.sector_write_cb2.bind(this)),s<0?(this.abort_command(),this.set_irq()):0==s?this.sector_write_cb2():this.status=208},uh.prototype.sector_write_cb2=function(){var e;e=this.io_nb_sectors,this.set_sector(this.get_sector()+e),this.nsector=this.nsector-e&255,0==this.nsector?this.status=80:(e=this.nsector,e>this.req_nb_sectors&&(e=this.req_nb_sectors),this.io_nb_sectors=e,this.transfer_start(512*e,this.sector_write_cb1.bind(this)),this.status=88),this.set_irq()},uh.prototype.sector_write=function(){var e;e=this.nsector,0==e&&(e=256),e>this.req_nb_sectors&&(e=this.req_nb_sectors),this.io_nb_sectors=e,this.transfer_start(512*e,this.sector_write_cb1.bind(this)),this.status=88},uh.prototype.identify_cb=function(){this.transfer_stop(),this.status=64},uh.prototype.exec_cmd=function(e){switch(e){case 161:case 236:this.identify(),this.status=88,this.transfer_start(512,this.identify_cb.bind(this)),this.set_irq();break;case 145:case 16:this.error=0,this.status=80,this.set_irq();break;case 198:this.nsector>128||0!=(this.nsector&this.nsector-1)?this.abort_command():(this.mult_sectors=this.nsector,this.status=64),this.set_irq();break;case 32:case 33:this.req_nb_sectors=1,this.sector_read();break;case 48:case 49:this.req_nb_sectors=1,this.sector_write();break;case 196:this.mult_sectors?(this.req_nb_sectors=this.mult_sectors,this.sector_read()):(this.abort_command(),this.set_irq());break;case 197:this.mult_sectors?(this.req_nb_sectors=this.mult_sectors,this.sector_write()):(this.abort_command(),this.set_irq());break;case 248:this.set_sector(this.nb_sectors-1),this.status=64,this.set_irq();break;default:this.abort_command(),this.set_irq()}},Eh.prototype.ioport_write=function(e,s){var a=this.cur_drive;switch(e&=7){case 0:break;case 1:a&&(a.feature=s);break;case 2:a&&(a.nsector=s);break;case 3:a&&(a.sector=s);break;case 4:a&&(a.lcyl=s);break;case 5:a&&(a.hcyl=s);break;case 6:a=this.cur_drive=this.drives[s>>4&1],a&&(a.select=s);break;default:case 7:a&&a.exec_cmd(s)}},Eh.prototype.ioport_read=function(e){var s,a=this.cur_drive;if(e&=7,a)switch(e){case 0:s=255;break;case 1:s=a.error;break;case 2:s=a.nsector;break;case 3:s=a.sector;break;case 4:s=a.lcyl;break;case 5:s=a.hcyl;break;case 6:s=a.select;break;default:case 7:s=a.status,this.set_irq_func(0)}else s=255;return s},Eh.prototype.status_read=function(e){var s=this.cur_drive;return s?s.status:0},Eh.prototype.cmd_write=function(e,s){var a,c;if(!(4&this.cmd)&&4&s)for(a=0;a<2;a++)(c=this.drives[a])&&(c.status=144,c.error=1);else if(4&this.cmd&&!(4&s))for(a=0;a<2;a++)(c=this.drives[a])&&(c.status=80,c.set_signature());for(a=0;a<2;a++)(c=this.drives[a])&&(c.cmd=s)},Eh.prototype.data_writew=function(e,s){var a,c,t=this.cur_drive;t&&(a=t.data_index,c=t.io_buffer,c[a]=255&s,c[a+1]=s>>8&255,a+=2,t.data_index=a,a>=t.data_end&&t.end_transfer_func())},Eh.prototype.data_readw=function(e){var s,a,c,t=this.cur_drive;return t?(s=t.data_index,c=t.io_buffer,a=c[s]|c[s+1]<<8,s+=2,t.data_index=s,s>=t.data_end&&t.end_transfer_func()):a=0,a},Eh.prototype.data_writel=function(e,s){var a,c,t=this.cur_drive;t&&(a=t.data_index,c=t.io_buffer,c[a]=255&s,c[a+1]=s>>8&255,c[a+2]=s>>16&255,c[a+3]=s>>24&255,a+=4,t.data_index=a,a>=t.data_end&&t.end_transfer_func())},Eh.prototype.data_readl=function(e){var s,a,c,t=this.cur_drive;return t?(s=t.data_index,c=t.io_buffer,a=c[s]|c[s+1]<<8|c[s+2]<<16|c[s+3]<<24,s+=4,t.data_index=s,s>=t.data_end&&t.end_transfer_func()):a=0,a},Nh.prototype.get_sector_count=function(){return this.nb_sectors},Nh.prototype.get_time=function(){return+new Date},Nh.prototype.get_cached_block=function(e){var s,a,c=this.cache;for(a=0;a<c.length;a++)if(s=c[a],s.block_num==e)return s;return null},Nh.prototype.new_cached_block=function(e){var s,a,c,t,r,i=this.cache;if(s=new Object,s.block_num=e,s.time=this.get_time(),i.length<this.max_cache_size)t=i.length;else for(c=0;c<i.length;c++)a=i[c],(0==c||a.time<r)&&(r=a.time,t=c);return i[t]=s,s},Nh.prototype.get_url=function(e,s){var a,c;for(c=s.toString();c.length<9;)c="0"+c;return a=e.indexOf("%d"),e.substr(0,a)+c+e.substring(a+2,e.length)},Nh.prototype.read_async_cb=function(e){for(var s,a,c,t,r,i,o,n,h,_,b;this.sector_index<this.sector_count;){if(s=Math.floor(this.sector_num/this.block_sectors),!(t=this.get_cached_block(s)))return b=this.get_url(this.url,s),void load_binary(b,this.read_async_cb2.bind(this));for(c=this.sector_num-s*this.block_sectors,a=Math.min(this.sector_count-this.sector_index,this.block_sectors-c),i=512*a,o=this.sector_buf,n=512*this.sector_index,h=t.buf,_=512*c,r=0;r<i;r++)o[r+n]=h[r+_];this.sector_index+=a,this.sector_num+=a}this.sector_buf=null,e||this.sector_cb(0)},Nh.prototype.add_block=function(e,s,a){var c,t,r;if(c=this.new_cached_block(e),t=c.buf=Mg(512*this.block_sectors),"string"==typeof s)for(r=0;r<a;r++)t[r]=255&s.charCodeAt(r);else for(r=0;r<a;r++)t[r]=s[r]},Nh.prototype.read_async_cb2=function(e,s){var a;s<0||s!=512*this.block_sectors?this.sector_cb(-1):(a=Math.floor(this.sector_num/this.block_sectors),this.add_block(a,e,s),this.read_async_cb(!1))},Nh.prototype.read_async=function(e,s,a,c){return e+a>this.nb_sectors?-1:(this.sector_num=e,this.sector_buf=s,this.sector_index=0,this.sector_count=a,this.sector_cb=c,this.read_async_cb(!0),this.sector_index>=this.sector_count?0:1)},Nh.prototype.preload=function(e,s){var a,c,t;if(0==e.length)setTimeout(s,0);else for(this.preload_cb2=s,this.preload_count=e.length,a=0;a<e.length;a++)t=e[a],c=this.get_url(this.url,t),load_binary(c,this.preload_cb.bind(this,t))},Nh.prototype.preload_cb=function(e,s,a){a<0||(this.add_block(e,s,a),0==--this.preload_count&&this.preload_cb2(0))},Nh.prototype.write_async=function(e,s,a,c){return-1},PCEmulator.prototype.load_binary=function(e,s,a){return this.cpu.load_binary(e,s,a)},PCEmulator.prototype.start=function(){setTimeout(this.timer_func.bind(this),10)},PCEmulator.prototype.timer_func=function(){var e,s,a,c,t,r;for(t=this,r=t.cpu,s=r.cycle_count+1e5,a=!1,c=!1;r.cycle_count<s;){if(t.serial.write_tx_fifo(),t.pit.update_irq(),256!=(e=r.exec(s-r.cycle_count))){if(257==e){c=!0;break}a=!0;break}if(t.reset_request){a=!0;break}}a||(c?setTimeout(this.timer_func.bind(this),10):setTimeout(this.timer_func.bind(this),0))},PCEmulator.prototype.init_ioports=function(){var e,s,a;for(this.ioport_readb_table=new Array,this.ioport_writeb_table=new Array,this.ioport_readw_table=new Array,this.ioport_writew_table=new Array,this.ioport_readl_table=new Array,this.ioport_writel_table=new Array,s=this.default_ioport_readw.bind(this),a=this.default_ioport_writew.bind(this),e=0;e<1024;e++)this.ioport_readb_table[e]=this.default_ioport_readb,this.ioport_writeb_table[e]=this.default_ioport_writeb,this.ioport_readw_table[e]=s,this.ioport_writew_table[e]=a,this.ioport_readl_table[e]=this.default_ioport_readl,this.ioport_writel_table[e]=this.default_ioport_writel},PCEmulator.prototype.default_ioport_readb=function(e){return 255},PCEmulator.prototype.default_ioport_readw=function(e){var s;return s=this.ioport_readb_table[e](e),e=e+1&1023,s|=this.ioport_readb_table[e](e)<<8},PCEmulator.prototype.default_ioport_readl=function(e){return-1},PCEmulator.prototype.default_ioport_writeb=function(e,s){},PCEmulator.prototype.default_ioport_writew=function(e,s){this.ioport_writeb_table[e](e,255&s),e=e+1&1023,this.ioport_writeb_table[e](e,s>>8&255)},PCEmulator.prototype.default_ioport_writel=function(e,s){},PCEmulator.prototype.ld8_port=function(e){return this.ioport_readb_table[1023&e](e)},PCEmulator.prototype.ld16_port=function(e){return this.ioport_readw_table[1023&e](e)},PCEmulator.prototype.ld32_port=function(e){return this.ioport_readl_table[1023&e](e)},PCEmulator.prototype.st8_port=function(e,s){this.ioport_writeb_table[1023&e](e,s)},PCEmulator.prototype.st16_port=function(e,s){this.ioport_writew_table[1023&e](e,s)},PCEmulator.prototype.st32_port=function(e,s){this.ioport_writel_table[1023&e](e,s)},PCEmulator.prototype.register_ioport_read=function(e,s,a,c){var t;switch(a){case 1:for(t=e;t<e+s;t++)this.ioport_readb_table[t]=c;break;case 2:for(t=e;t<e+s;t+=2)this.ioport_readw_table[t]=c;break;case 4:for(t=e;t<e+s;t+=4)this.ioport_readl_table[t]=c}},PCEmulator.prototype.register_ioport_write=function(e,s,a,c){var t;switch(a){case 1:for(t=e;t<e+s;t++)this.ioport_writeb_table[t]=c;break;case 2:for(t=e;t<e+s;t+=2)this.ioport_writew_table[t]=c;break;case 4:for(t=e;t<e+s;t+=4)this.ioport_writel_table[t]=c}},PCEmulator.prototype.ioport80_write=function(e,s){},PCEmulator.prototype.reset=function(){this.request_request=1};
//# sourceMappingURL=cpux86-ta.min.js.map
